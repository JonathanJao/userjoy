(function(){function require(path,parent,orig){var resolved=require.resolve(path);if(null==resolved){orig=orig||path;parent=parent||"root";var err=new Error('Failed to require "'+orig+'" from "'+parent+'"');err.path=orig;err.parent=parent;err.require=true;throw err}var module=require.modules[resolved];if(!module._resolving&&!module.exports){var mod={};mod.exports={};mod.client=mod.component=true;module._resolving=true;module.call(this,mod.exports,require.relative(resolved),mod);delete module._resolving;module.exports=mod.exports}return module.exports}require.modules={};require.aliases={};require.resolve=function(path){if(path.charAt(0)==="/")path=path.slice(1);var paths=[path,path+".js",path+".json",path+"/index.js",path+"/index.json"];for(var i=0;i<paths.length;i++){var path=paths[i];if(require.modules.hasOwnProperty(path))return path;if(require.aliases.hasOwnProperty(path))return require.aliases[path]}};require.normalize=function(curr,path){var segs=[];if("."!=path.charAt(0))return path;curr=curr.split("/");path=path.split("/");for(var i=0;i<path.length;++i){if(".."==path[i]){curr.pop()}else if("."!=path[i]&&""!=path[i]){segs.push(path[i])}}return curr.concat(segs).join("/")};require.register=function(path,definition){require.modules[path]=definition};require.alias=function(from,to){if(!require.modules.hasOwnProperty(from)){throw new Error('Failed to alias "'+from+'", it does not exist')}require.aliases[to]=from};require.relative=function(parent){var p=require.normalize(parent,"..");function lastIndexOf(arr,obj){var i=arr.length;while(i--){if(arr[i]===obj)return i}return-1}function localRequire(path){var resolved=localRequire.resolve(path);return require(resolved,parent,path)}localRequire.resolve=function(path){var c=path.charAt(0);if("/"==c)return path.slice(1);if("."==c)return require.normalize(p,path);var segs=parent.split("/");var i=lastIndexOf(segs,"deps")+1;if(!i)i=0;path=segs.slice(0,i+1).join("/")+"/deps/"+path;return path};localRequire.exists=function(path){return require.modules.hasOwnProperty(localRequire.resolve(path))};return localRequire};require.register("avetisk-defaults/index.js",function(exports,require,module){"use strict";var defaults=function(dest,src,recursive){for(var prop in src){if(recursive&&dest[prop]instanceof Object&&src[prop]instanceof Object){dest[prop]=defaults(dest[prop],src[prop],true)}else if(!(prop in dest)){dest[prop]=src[prop]}}return dest};module.exports=defaults});require.register("component-type/index.js",function(exports,require,module){var toString=Object.prototype.toString;module.exports=function(val){switch(toString.call(val)){case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Arguments]":return"arguments";case"[object Array]":return"array";case"[object Error]":return"error"}if(val===null)return"null";if(val===undefined)return"undefined";if(val!==val)return"nan";if(val&&val.nodeType===1)return"element";val=val.valueOf?val.valueOf():Object.prototype.valueOf.apply(val);return typeof val}});require.register("component-clone/index.js",function(exports,require,module){var type;try{type=require("type")}catch(e){type=require("type-component")}module.exports=clone;function clone(obj){switch(type(obj)){case"object":var copy={};for(var key in obj){if(obj.hasOwnProperty(key)){copy[key]=clone(obj[key])}}return copy;case"array":var copy=new Array(obj.length);for(var i=0,l=obj.length;i<l;i++){copy[i]=clone(obj[i])}return copy;case"regexp":var flags="";flags+=obj.multiline?"m":"";flags+=obj.global?"g":"";flags+=obj.ignoreCase?"i":"";return new RegExp(obj.source,flags);case"date":return new Date(obj.getTime());default:return obj}}});require.register("component-cookie/index.js",function(exports,require,module){var encode=encodeURIComponent;var decode=decodeURIComponent;module.exports=function(name,value,options){switch(arguments.length){case 3:case 2:return set(name,value,options);case 1:return get(name);default:return all()}};function set(name,value,options){options=options||{};var str=encode(name)+"="+encode(value);if(null==value)options.maxage=-1;if(options.maxage){options.expires=new Date(+new Date+options.maxage)}if(options.path)str+="; path="+options.path;if(options.domain)str+="; domain="+options.domain;if(options.expires)str+="; expires="+options.expires.toGMTString();if(options.secure)str+="; secure";document.cookie=str}function all(){return parse(document.cookie)}function get(name){return all()[name]}function parse(str){var obj={};var pairs=str.split(/ *; */);var pair;if(""==pairs[0])return obj;for(var i=0;i<pairs.length;++i){pair=pairs[i].split("=");obj[decode(pair[0])]=decode(pair[1])}return obj}});require.register("component-each/index.js",function(exports,require,module){var type=require("type");var has=Object.prototype.hasOwnProperty;module.exports=function(obj,fn){switch(type(obj)){case"array":return array(obj,fn);case"object":if("number"==typeof obj.length)return array(obj,fn);return object(obj,fn);case"string":return string(obj,fn)}};function string(obj,fn){for(var i=0;i<obj.length;++i){fn(obj.charAt(i),i)}}function object(obj,fn){for(var key in obj){if(has.call(obj,key)){fn(key,obj[key])}}}function array(obj,fn){for(var i=0;i<obj.length;++i){fn(obj[i],i)}}});require.register("component-event/index.js",function(exports,require,module){exports.bind=function(el,type,fn,capture){if(el.addEventListener){el.addEventListener(type,fn,capture||false)}else{el.attachEvent("on"+type,fn)}return fn};exports.unbind=function(el,type,fn,capture){if(el.removeEventListener){el.removeEventListener(type,fn,capture||false)}else{el.detachEvent("on"+type,fn)}return fn}});require.register("component-inherit/index.js",function(exports,require,module){module.exports=function(a,b){var fn=function(){};fn.prototype=b.prototype;a.prototype=new fn;a.prototype.constructor=a}});require.register("component-object/index.js",function(exports,require,module){var has=Object.prototype.hasOwnProperty;exports.keys=Object.keys||function(obj){var keys=[];for(var key in obj){if(has.call(obj,key)){keys.push(key)}}return keys};exports.values=function(obj){var vals=[];for(var key in obj){if(has.call(obj,key)){vals.push(obj[key])}}return vals};exports.merge=function(a,b){for(var key in b){if(has.call(b,key)){a[key]=b[key]}}return a};exports.length=function(obj){return exports.keys(obj).length};exports.isEmpty=function(obj){return 0==exports.length(obj)}});require.register("component-url/index.js",function(exports,require,module){exports.parse=function(url){var a=document.createElement("a");a.href=url;return{href:a.href,host:a.host,port:a.port,hash:a.hash,hostname:a.hostname,pathname:a.pathname,protocol:a.protocol,search:a.search,query:a.search.slice(1)}};exports.isAbsolute=function(url){if(0==url.indexOf("//"))return true;if(~url.indexOf("://"))return true;return false};exports.isRelative=function(url){return!exports.isAbsolute(url)};exports.isCrossDomain=function(url){url=exports.parse(url);return url.hostname!=location.hostname||url.port!=location.port||url.protocol!=location.protocol}});require.register("component-bind/index.js",function(exports,require,module){var slice=[].slice;module.exports=function(obj,fn){if("string"==typeof fn)fn=obj[fn];if("function"!=typeof fn)throw new Error("bind() requires a function");var args=slice.call(arguments,2);return function(){return fn.apply(obj,args.concat(slice.call(arguments)))}}});require.register("segmentio-bind-all/index.js",function(exports,require,module){try{var bind=require("bind");var type=require("type")}catch(e){var bind=require("bind-component");var type=require("type-component")}module.exports=function(obj){for(var key in obj){var val=obj[key];if(type(val)==="function")obj[key]=bind(obj,obj[key])}return obj}});require.register("ianstormtaylor-bind/index.js",function(exports,require,module){try{var bind=require("bind")}catch(e){var bind=require("bind-component")}var bindAll=require("bind-all");module.exports=exports=bind;exports.all=bindAll;exports.methods=bindMethods;function bindMethods(obj,methods){methods=[].slice.call(arguments,1);for(var i=0,method;method=methods[i];i++){obj[method]=bind(obj,obj[method])}return obj}});require.register("timoxley-next-tick/index.js",function(exports,require,module){"use strict";if(typeof setImmediate=="function"){module.exports=function(f){setImmediate(f)}}else if(typeof process!="undefined"&&typeof process.nextTick=="function"){module.exports=process.nextTick}else if(typeof window=="undefined"||window.ActiveXObject||!window.postMessage){module.exports=function(f){setTimeout(f)}}else{var q=[];window.addEventListener("message",function(){var i=0;while(i<q.length){try{q[i++]()}catch(e){q=q.slice(i);window.postMessage("tic!","*");throw e}}q.length=0},true);module.exports=function(fn){if(!q.length)window.postMessage("tic!","*");q.push(fn)}}});require.register("ianstormtaylor-callback/index.js",function(exports,require,module){var next=require("next-tick");module.exports=callback;function callback(fn){if("function"===typeof fn)fn()}callback.async=function(fn,wait){if("function"!==typeof fn)return;if(!wait)return next(fn);setTimeout(fn,wait)};callback.sync=callback});require.register("ianstormtaylor-is-empty/index.js",function(exports,require,module){module.exports=isEmpty;var has=Object.prototype.hasOwnProperty;function isEmpty(val){if(null==val)return true;if("number"==typeof val)return 0===val;if(undefined!==val.length)return 0===val.length;for(var key in val)if(has.call(val,key))return false;return true}});require.register("ianstormtaylor-is/index.js",function(exports,require,module){var isEmpty=require("is-empty"),typeOf=require("type");var types=["arguments","array","boolean","date","element","function","null","number","object","regexp","string","undefined"];for(var i=0,type;type=types[i];i++)exports[type]=generate(type);exports.fn=exports["function"];exports.empty=isEmpty;exports.nan=function(val){return exports.number(val)&&val!=val};function generate(type){return function(value){return type===typeOf(value)}}});require.register("segmentio-canonical/index.js",function(exports,require,module){module.exports=function canonical(){var tags=document.getElementsByTagName("link");for(var i=0,tag;tag=tags[i];i++){if("canonical"==tag.getAttribute("rel"))return tag.getAttribute("href")}}});require.register("segmentio-extend/index.js",function(exports,require,module){module.exports=function extend(object){var args=Array.prototype.slice.call(arguments,1);for(var i=0,source;source=args[i];i++){if(!source)continue;for(var property in source){object[property]=source[property]}}return object}});require.register("segmentio-is-email/index.js",function(exports,require,module){module.exports=isEmail;var matcher=/.+\@.+\..+/;function isEmail(string){return matcher.test(string)}});require.register("segmentio-is-meta/index.js",function(exports,require,module){module.exports=function isMeta(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return true;var which=e.which,button=e.button;if(!which&&button!==undefined){return!button&1&&!button&2&&button&4}else if(which===2){return true}return false}});require.register("segmentio-isodate/index.js",function(exports,require,module){var matcher=/^(\d{4})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:([ T])(\d{2}):?(\d{2})(?::?(\d{2})(?:[,\.](\d{1,}))?)?(?:(Z)|([+\-])(\d{2})(?::?(\d{2}))?)?)?$/;exports.parse=function(iso){var numericKeys=[1,5,6,7,8,11,12];var arr=matcher.exec(iso);var offset=0;if(!arr)return new Date(iso);for(var i=0,val;val=numericKeys[i];i++){arr[val]=parseInt(arr[val],10)||0}arr[2]=parseInt(arr[2],10)||1;arr[3]=parseInt(arr[3],10)||1;arr[2]--;if(arr[8])arr[8]=(arr[8]+"00").substring(0,3);if(arr[4]==" "){offset=(new Date).getTimezoneOffset()}else if(arr[9]!=="Z"&&arr[10]){offset=arr[11]*60+arr[12];if("+"==arr[10])offset=0-offset}var millis=Date.UTC(arr[1],arr[2],arr[3],arr[5],arr[6]+offset,arr[7],arr[8]);return new Date(millis)};exports.is=function(string,strict){if(strict&&false===/^\d{4}-\d{2}-\d{2}/.test(string))return false;return matcher.test(string)}});require.register("segmentio-isodate-traverse/index.js",function(exports,require,module){var is=require("is");var isodate=require("isodate");var each;try{each=require("each")}catch(err){each=require("each-component")}module.exports=traverse;function traverse(input,strict){if(strict===undefined)strict=true;if(is.object(input)){return object(input,strict)}else if(is.array(input)){return array(input,strict)}}function object(obj,strict){each(obj,function(key,val){if(isodate.is(val,strict)){obj[key]=isodate.parse(val)}else if(is.object(val)||is.array(val)){traverse(val,strict)}});return obj}function array(arr,strict){each(arr,function(val,x){if(is.object(val)){traverse(val,strict)}else if(isodate.is(val,strict)){arr[x]=isodate.parse(val)}});return arr}});require.register("component-json-fallback/index.js",function(exports,require,module){(function(){"use strict";var JSON=module.exports={};function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var cx,escapable,gap,indent,meta,rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else if(typeof space==="string"){indent=space}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}})()});require.register("segmentio-json/index.js",function(exports,require,module){module.exports="undefined"==typeof JSON?require("json-fallback"):JSON});require.register("segmentio-new-date/lib/index.js",function(exports,require,module){var is=require("is");var isodate=require("isodate");var milliseconds=require("./milliseconds");var seconds=require("./seconds");module.exports=function newDate(val){if(is.date(val))return val;if(is.number(val))return new Date(toMs(val));if(isodate.is(val))return isodate.parse(val);if(milliseconds.is(val))return milliseconds.parse(val);if(seconds.is(val))return seconds.parse(val);return new Date(val)};function toMs(num){if(num<315576e5)return num*1e3;return num}});require.register("segmentio-new-date/lib/milliseconds.js",function(exports,require,module){var matcher=/\d{13}/;exports.is=function(string){return matcher.test(string)};exports.parse=function(millis){millis=parseInt(millis,10);return new Date(millis)}});require.register("segmentio-new-date/lib/seconds.js",function(exports,require,module){var matcher=/\d{10}/;exports.is=function(string){return matcher.test(string)};exports.parse=function(seconds){var millis=parseInt(seconds,10)*1e3;return new Date(millis)}});require.register("segmentio-top-domain/index.js",function(exports,require,module){var url=require("url");module.exports=function(urlStr){var host=url.parse(urlStr).hostname,topLevel=host.match(/[a-z0-9][a-z0-9\-]*[a-z0-9]\.[a-z\.]{2,6}$/i);return topLevel?topLevel[0]:host}});require.register("visionmedia-debug/index.js",function(exports,require,module){if("undefined"==typeof window){module.exports=require("./lib/debug")}else{module.exports=require("./debug")}});require.register("visionmedia-debug/debug.js",function(exports,require,module){module.exports=debug;function debug(name){if(!debug.enabled(name))return function(){};return function(fmt){fmt=coerce(fmt);var curr=new Date;var ms=curr-(debug[name]||curr);debug[name]=curr;fmt=name+" "+fmt+" +"+debug.humanize(ms);window.console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}}debug.names=[];debug.skips=[];debug.enable=function(name){try{localStorage.debug=name}catch(e){}var split=(name||"").split(/[\s,]+/),len=split.length;for(var i=0;i<len;i++){name=split[i].replace("*",".*?");if(name[0]==="-"){debug.skips.push(new RegExp("^"+name.substr(1)+"$"))}else{debug.names.push(new RegExp("^"+name+"$"))}}};debug.disable=function(){debug.enable("")};debug.humanize=function(ms){var sec=1e3,min=60*1e3,hour=60*min;if(ms>=hour)return(ms/hour).toFixed(1)+"h";if(ms>=min)return(ms/min).toFixed(1)+"m";if(ms>=sec)return(ms/sec|0)+"s";return ms+"ms"};debug.enabled=function(name){for(var i=0,len=debug.skips.length;i<len;i++){if(debug.skips[i].test(name)){return false}}for(var i=0,len=debug.names.length;i<len;i++){if(debug.names[i].test(name)){return true}}return false};function coerce(val){if(val instanceof Error)return val.stack||val.message;return val}try{if(window.localStorage)debug.enable(localStorage.debug)}catch(e){}});require.register("yields-prevent/index.js",function(exports,require,module){module.exports=function(e){e=e||window.event;return e.preventDefault?e.preventDefault():e.returnValue=false}});require.register("forbeslindesay-ajax/index.js",function(exports,require,module){var type;try{type=require("type-of")}catch(ex){var r=require;type=r("type")}var jsonpID=0,document=window.document,key,name,rscript=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,scriptTypeRE=/^(?:text|application)\/javascript/i,xmlTypeRE=/^(?:text|application)\/xml/i,jsonType="application/json",htmlType="text/html",blankRE=/^\s*$/;var ajax=module.exports=function(options){var settings=extend({},options||{});for(key in ajax.settings)if(settings[key]===undefined)settings[key]=ajax.settings[key];ajaxStart(settings);if(!settings.crossDomain)settings.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(settings.url)&&RegExp.$2!=window.location.host;var dataType=settings.dataType,hasPlaceholder=/=\?/.test(settings.url);if(dataType=="jsonp"||hasPlaceholder){if(!hasPlaceholder)settings.url=appendQuery(settings.url,"callback=?");return ajax.JSONP(settings)}if(!settings.url)settings.url=window.location.toString();serializeData(settings);var mime=settings.accepts[dataType],baseHeaders={},protocol=/^([\w-]+:)\/\//.test(settings.url)?RegExp.$1:window.location.protocol,xhr=ajax.settings.xhr(),abortTimeout;if(!settings.crossDomain)baseHeaders["X-Requested-With"]="XMLHttpRequest";if(mime){baseHeaders["Accept"]=mime;if(mime.indexOf(",")>-1)mime=mime.split(",",2)[0];xhr.overrideMimeType&&xhr.overrideMimeType(mime)}if(settings.contentType||settings.data&&settings.type.toUpperCase()!="GET")baseHeaders["Content-Type"]=settings.contentType||"application/x-www-form-urlencoded";settings.headers=extend(baseHeaders,settings.headers||{});xhr.onreadystatechange=function(){if(xhr.readyState==4){clearTimeout(abortTimeout);var result,error=false;if(xhr.status>=200&&xhr.status<300||xhr.status==304||xhr.status==0&&protocol=="file:"){dataType=dataType||mimeToDataType(xhr.getResponseHeader("content-type"));result=xhr.responseText;try{if(dataType=="script")(1,eval)(result);else if(dataType=="xml")result=xhr.responseXML;else if(dataType=="json")result=blankRE.test(result)?null:JSON.parse(result)}catch(e){error=e}if(error)ajaxError(error,"parsererror",xhr,settings);else ajaxSuccess(result,xhr,settings)}else{ajaxError(null,"error",xhr,settings)}}};var async="async"in settings?settings.async:true;xhr.open(settings.type,settings.url,async);for(name in settings.headers)xhr.setRequestHeader(name,settings.headers[name]);if(ajaxBeforeSend(xhr,settings)===false){xhr.abort();return false}if(settings.timeout>0)abortTimeout=setTimeout(function(){xhr.onreadystatechange=empty;xhr.abort();ajaxError(null,"timeout",xhr,settings)},settings.timeout);xhr.send(settings.data?settings.data:null);return xhr};function triggerAndReturn(context,eventName,data){return true}function triggerGlobal(settings,context,eventName,data){if(settings.global)return triggerAndReturn(context||document,eventName,data)}ajax.active=0;function ajaxStart(settings){if(settings.global&&ajax.active++===0)triggerGlobal(settings,null,"ajaxStart")}function ajaxStop(settings){if(settings.global&&!--ajax.active)triggerGlobal(settings,null,"ajaxStop")}function ajaxBeforeSend(xhr,settings){var context=settings.context;if(settings.beforeSend.call(context,xhr,settings)===false||triggerGlobal(settings,context,"ajaxBeforeSend",[xhr,settings])===false)return false;triggerGlobal(settings,context,"ajaxSend",[xhr,settings])}function ajaxSuccess(data,xhr,settings){var context=settings.context,status="success";settings.success.call(context,data,status,xhr);triggerGlobal(settings,context,"ajaxSuccess",[xhr,settings,data]);ajaxComplete(status,xhr,settings)}function ajaxError(error,type,xhr,settings){var context=settings.context;settings.error.call(context,xhr,type,error);triggerGlobal(settings,context,"ajaxError",[xhr,settings,error]);ajaxComplete(type,xhr,settings)}function ajaxComplete(status,xhr,settings){var context=settings.context;settings.complete.call(context,xhr,status);triggerGlobal(settings,context,"ajaxComplete",[xhr,settings]);ajaxStop(settings)}function empty(){}ajax.JSONP=function(options){if(!("type"in options))return ajax(options);var callbackName="jsonp"+ ++jsonpID,script=document.createElement("script"),abort=function(){if(callbackName in window)window[callbackName]=empty;ajaxComplete("abort",xhr,options)},xhr={abort:abort},abortTimeout,head=document.getElementsByTagName("head")[0]||document.documentElement;if(options.error)script.onerror=function(){xhr.abort();options.error()};window[callbackName]=function(data){clearTimeout(abortTimeout);delete window[callbackName];ajaxSuccess(data,xhr,options)};serializeData(options);script.src=options.url.replace(/=\?/,"="+callbackName);head.insertBefore(script,head.firstChild);if(options.timeout>0)abortTimeout=setTimeout(function(){xhr.abort();ajaxComplete("timeout",xhr,options)},options.timeout);return xhr};ajax.settings={type:"GET",beforeSend:empty,success:empty,error:empty,complete:empty,context:null,global:true,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript",json:jsonType,xml:"application/xml, text/xml",html:htmlType,text:"text/plain"},crossDomain:false,timeout:0};function mimeToDataType(mime){return mime&&(mime==htmlType?"html":mime==jsonType?"json":scriptTypeRE.test(mime)?"script":xmlTypeRE.test(mime)&&"xml")||"text"}function appendQuery(url,query){return(url+"&"+query).replace(/[&?]{1,2}/,"?")}function serializeData(options){if(type(options.data)==="object")options.data=param(options.data);if(options.data&&(!options.type||options.type.toUpperCase()=="GET"))options.url=appendQuery(options.url,options.data)}ajax.get=function(url,success){return ajax({url:url,success:success})};ajax.post=function(url,data,success,dataType){if(type(data)==="function")dataType=dataType||success,success=data,data=null;return ajax({type:"POST",url:url,data:data,success:success,dataType:dataType})};ajax.getJSON=function(url,success){return ajax({url:url,success:success,dataType:"json"})};var escape=encodeURIComponent;function serialize(params,obj,traditional,scope){var array=type(obj)==="array";for(var key in obj){var value=obj[key];if(scope)key=traditional?scope:scope+"["+(array?"":key)+"]";if(!scope&&array)params.add(value.name,value.value);else if(traditional?type(value)==="array":type(value)==="object")serialize(params,value,traditional,key);else params.add(key,value)}}function param(obj,traditional){var params=[];params.add=function(k,v){this.push(escape(k)+"="+escape(v))};serialize(params,obj,traditional);return params.join("&").replace("%20","+")}function extend(target){var slice=Array.prototype.slice;slice.call(arguments,1).forEach(function(source){for(key in source)if(source[key]!==undefined)target[key]=source[key]});return target}});require.register("discore-closest/index.js",function(exports,require,module){var matches=require("matches-selector");module.exports=function(element,selector,checkYoSelf,root){element=checkYoSelf?{parentNode:element}:element;root=root||document;while((element=element.parentNode)&&element!==document){if(matches(element,selector))return element;if(element===root)return}}});require.register("component-delegate/index.js",function(exports,require,module){var closest=require("closest"),event=require("event");exports.bind=function(el,selector,type,fn,capture){return event.bind(el,type,function(e){var target=e.target||e.srcElement;e.delegateTarget=closest(target,selector,true,el);if(e.delegateTarget)fn.call(el,e)},capture)};exports.unbind=function(el,type,fn,capture){event.unbind(el,type,fn,capture)}});require.register("component-domify/index.js",function(exports,require,module){module.exports=parse;var map={legend:[1,"<fieldset>","</fieldset>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],_default:[0,"",""]};map.td=map.th=[3,"<table><tbody><tr>","</tr></tbody></table>"];map.option=map.optgroup=[1,'<select multiple="multiple">',"</select>"];map.thead=map.tbody=map.colgroup=map.caption=map.tfoot=[1,"<table>","</table>"];map.text=map.circle=map.ellipse=map.line=map.path=map.polygon=map.polyline=map.rect=[1,'<svg xmlns="http://www.w3.org/2000/svg" version="1.1">',"</svg>"];function parse(html){if("string"!=typeof html)throw new TypeError("String expected");var m=/<([\w:]+)/.exec(html);if(!m)return document.createTextNode(html);html=html.replace(/^\s+|\s+$/g,"");var tag=m[1];if(tag=="body"){var el=document.createElement("html");el.innerHTML=html;return el.removeChild(el.lastChild)}var wrap=map[tag]||map._default;var depth=wrap[0];var prefix=wrap[1];var suffix=wrap[2];var el=document.createElement("div");el.innerHTML=prefix+html+suffix;while(depth--)el=el.lastChild;if(el.firstChild==el.lastChild){return el.removeChild(el.firstChild)}var fragment=document.createDocumentFragment();while(el.firstChild){fragment.appendChild(el.removeChild(el.firstChild))}return fragment}});require.register("component-indexof/index.js",function(exports,require,module){module.exports=function(arr,obj){if(arr.indexOf)return arr.indexOf(obj);for(var i=0;i<arr.length;++i){if(arr[i]===obj)return i}return-1}});require.register("component-classes/index.js",function(exports,require,module){var index=require("indexof");var re=/\s+/;var toString=Object.prototype.toString;module.exports=function(el){return new ClassList(el)};function ClassList(el){this.el=el;this.list=el.classList}ClassList.prototype.add=function(name){if(this.list){this.list.add(name);return this}var arr=this.array();var i=index(arr,name);if(!~i)arr.push(name);this.el.className=arr.join(" ");return this};ClassList.prototype.remove=function(name){if("[object RegExp]"==toString.call(name)){return this.removeMatching(name)}if(this.list){this.list.remove(name);return this}var arr=this.array();var i=index(arr,name);if(~i)arr.splice(i,1);this.el.className=arr.join(" ");return this};ClassList.prototype.removeMatching=function(re){var arr=this.array();for(var i=0;i<arr.length;i++){if(re.test(arr[i])){this.remove(arr[i])}}return this};ClassList.prototype.toggle=function(name){if(this.list){this.list.toggle(name);return this}if(this.has(name)){this.remove(name)}else{this.add(name)}return this};ClassList.prototype.array=function(){var str=this.el.className.replace(/^\s+|\s+$/g,"");var arr=str.split(re);if(""===arr[0])arr.shift();return arr};ClassList.prototype.has=ClassList.prototype.contains=function(name){return this.list?this.list.contains(name):!!~index(this.array(),name)}});require.register("ianstormtaylor-to-no-case/index.js",function(exports,require,module){module.exports=toNoCase;var hasSpace=/\s/;var hasCamel=/[a-z][A-Z]/;var hasSeparator=/[\W_]/;function toNoCase(string){if(hasSpace.test(string))return string.toLowerCase();if(hasSeparator.test(string))string=unseparate(string);if(hasCamel.test(string))string=uncamelize(string);return string.toLowerCase()}var separatorSplitter=/[\W_]+(.|$)/g;function unseparate(string){return string.replace(separatorSplitter,function(m,next){return next?" "+next:""})}var camelSplitter=/(.)([A-Z]+)/g;function uncamelize(string){return string.replace(camelSplitter,function(m,previous,uppers){return previous+" "+uppers.toLowerCase().split("").join(" ")})}});require.register("ianstormtaylor-to-space-case/index.js",function(exports,require,module){var clean=require("to-no-case");module.exports=toSpaceCase;function toSpaceCase(string){return clean(string).replace(/[\W_]+(.|$)/g,function(matches,match){return match?" "+match:""})}});require.register("ianstormtaylor-to-camel-case/index.js",function(exports,require,module){var toSpace=require("to-space-case");module.exports=toCamelCase;function toCamelCase(string){return toSpace(string).replace(/\s(\w)/g,function(matches,letter){return letter.toUpperCase()})}});require.register("component-within-document/index.js",function(exports,require,module){module.exports=function(el){var node=el;while(node=node.parentNode){if(node==document)return true}return false}});require.register("component-css/index.js",function(exports,require,module){var debug=require("debug")("css");var set=require("./lib/style");var get=require("./lib/css");module.exports=css;function css(el,prop,val){if(!el)return;if(undefined!==val){var obj={};obj[prop]=val;debug("setting styles %j",obj);return setStyles(el,obj)}if("object"==typeof prop){debug("setting styles %j",prop);return setStyles(el,prop)}debug("getting %s",prop);return get(el,prop)}function setStyles(el,props){for(var prop in props){set(el,prop,props[prop])}return el}});require.register("component-css/lib/css.js",function(exports,require,module){var debug=require("debug")("css:css");
var camelcase=require("to-camel-case");var computed=require("./computed");var property=require("./prop");module.exports=css;var cssNormalTransform={letterSpacing:0,fontWeight:400};function css(el,prop,extra,styles){var hooks=require("./hooks");var orig=camelcase(prop);var style=el.style;var val;prop=property(prop,style);var hook=hooks[prop]||hooks[orig];if(hook&&hook.get){debug("get hook provided. use that");val=hook.get(el,true,extra)}if(undefined==val){debug("fetch the computed value of %s",prop);val=computed(el,prop)}if("normal"==val&&cssNormalTransform[prop]){val=cssNormalTransform[prop];debug("normal => %s",val)}if(""==extra||extra){debug("converting value: %s into a number");var num=parseFloat(val);return true===extra||isNumeric(num)?num||0:val}return val}function isNumeric(obj){return!isNan(parseFloat(obj))&&isFinite(obj)}});require.register("component-css/lib/prop.js",function(exports,require,module){var debug=require("debug")("css:prop");var camelcase=require("to-camel-case");var vendor=require("./vendor");module.exports=prop;var cssProps={"float":"cssFloat"in document.body.style?"cssFloat":"styleFloat"};function prop(prop,style){prop=cssProps[prop]||(cssProps[prop]=vendor(prop,style));debug("transform property: %s => %s");return prop}});require.register("component-css/lib/swap.js",function(exports,require,module){module.exports=swap;function swap(el,options,fn,args){for(var key in options){old[key]=el.style[key];el.style[key]=options[key]}ret=fn.apply(el,args||[]);for(key in options){el.style[key]=old[key]}return ret}});require.register("component-css/lib/style.js",function(exports,require,module){var debug=require("debug")("css:style");var camelcase=require("to-camel-case");var support=require("./support");var property=require("./prop");var hooks=require("./hooks");module.exports=style;var cssNumber={columnCount:true,fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true};function style(el,prop,val,extra){if(!el||el.nodeType===3||el.nodeType===8||!el.style)return;var orig=camelcase(prop);var style=el.style;var type=typeof val;if(!val)return get(el,prop,orig,extra);prop=property(prop,style);var hook=hooks[prop]||hooks[orig];if("number"==type&&!cssNumber[orig]){debug('adding "px" to end of number');val+="px"}if(!support.clearCloneStyle&&""===val&&0===prop.indexOf("background")){debug('set property (%s) value to "inherit"',prop);style[prop]="inherit"}if(!hook||!hook.set||undefined!==(val=hook.set(el,val,extra))){debug("set hook defined. setting property (%s) to %s",prop,val);style[prop]="";style[prop]=val}}function get(el,prop,orig,extra){var style=el.style;var hook=hooks[prop]||hooks[orig];var ret;if(hook&&hook.get&&undefined!==(ret=hook.get(el,false,extra))){debug("get hook defined, returning: %s",ret);return ret}ret=style[prop];debug("getting %s",ret);return ret}});require.register("component-css/lib/hooks.js",function(exports,require,module){var each=require("each");var css=require("./css");var cssShow={position:"absolute",visibility:"hidden",display:"block"};var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i");var rnumsplit=new RegExp("^("+pnum+")(.*)$","i");var rdisplayswap=/^(none|table(?!-c[ea]).+)/;var styles=require("./styles");var support=require("./support");var swap=require("./swap");var computed=require("./computed");var cssExpand=["Top","Right","Bottom","Left"];each(["width","height"],function(name){exports[name]={};exports[name].get=function(el,compute,extra){if(!compute)return;return 0==el.offsetWidth&&rdisplayswap.test(css(el,"display"))?swap(el,cssShow,function(){return getWidthOrHeight(el,name,extra)}):getWidthOrHeight(el,name,extra)};exports[name].set=function(el,val,extra){var styles=extra&&styles(el);return setPositiveNumber(el,val,extra?augmentWidthOrHeight(el,name,extra,"border-box"==css(el,"boxSizing",false,styles),styles):0)}});exports.opacity={};exports.opacity.get=function(el,compute){if(!compute)return;var ret=computed(el,"opacity");return""==ret?"1":ret};function setPositiveNumber(el,val,subtract){var matches=rnumsplit.exec(val);return matches?Math.max(0,matches[1])+(matches[2]||"px"):val}function getWidthOrHeight(el,prop,extra){var valueIsBorderBox=true;var val=prop==="width"?el.offsetWidth:el.offsetHeight;var styles=computed(el);var isBorderBox=support.boxSizing&&css(el,"boxSizing")==="border-box";if(val<=0||val==null){val=computed(el,prop,styles);if(val<0||val==null){val=el.style[prop]}if(rnumnonpx.test(val)){return val}valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===el.style[prop]);val=parseFloat(val)||0}extra=extra||(isBorderBox?"border":"content");val+=augmentWidthOrHeight(el,prop,extra,valueIsBorderBox,styles);return val+"px"}function augmentWidthOrHeight(el,prop,extra,isBorderBox,styles){var i=extra===(isBorderBox?"border":"content")?4:"width"==prop?1:0;var val=0;for(;i<4;i+=2){if(extra==="margin"){val+=css(el,extra+cssExpand[i],true,styles)}if(isBorderBox){if(extra==="content"){val-=css(el,"padding"+cssExpand[i],true,styles)}if(extra!=="margin"){val-=css(el,"border"+cssExpand[i]+"Width",true,styles)}}else{val+=css(el,"padding"+cssExpand[i],true,styles);if(extra!=="padding"){val+=css(el,"border"+cssExpand[i]+"Width",true,styles)}}}return val}});require.register("component-css/lib/styles.js",function(exports,require,module){module.exports=styles;function styles(el){if(window.getComputedStyle){return el.ownerDocument.defaultView.getComputedStyle(el,null)}else{return el.currentStyle}}});require.register("component-css/lib/vendor.js",function(exports,require,module){var prefixes=["Webkit","O","Moz","ms"];module.exports=vendor;function vendor(prop,style){if(style[prop])return prop;var capName=prop[0].toUpperCase()+prop.slice(1);var original=prop;var i=prefixes.length;while(i--){prop=prefixes[i]+capName;if(prop in style)return prop}return original}});require.register("component-css/lib/support.js",function(exports,require,module){var reliableMarginRight;var boxSizingReliableVal;var pixelPositionVal;var clearCloneStyle;var docElem=document.documentElement;var container=document.createElement("div");var div=document.createElement("div");div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";exports.clearCloneStyle=div.style.backgroundClip==="content-box";container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";container.appendChild(div);exports.pixelPosition=function(){if(undefined==pixelPositionVal)computePixelPositionAndBoxSizingReliable();return pixelPositionVal};exports.boxSizingReliable=function(){if(undefined==boxSizingReliableVal)computePixelPositionAndBoxSizingReliable();return boxSizingReliableVal};exports.reliableMarginRight=function(){var ret;var marginDiv=div.appendChild(document.createElement("div"));marginDiv.style.cssText=div.style.cssText=divReset;marginDiv.style.marginRight=marginDiv.style.width="0";div.style.width="1px";docElem.appendChild(container);ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight);docElem.removeChild(container);div.innerHTML="";return ret};function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;"+"position:absolute;top:1%";docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal=divStyle.top!=="1%";boxSizingReliableVal=divStyle.width==="4px";docElem.removeChild(container)}});require.register("component-css/lib/computed.js",function(exports,require,module){var debug=require("debug")("css:computed");var withinDocument=require("within-document");var styles=require("./styles");module.exports=computed;function computed(el,prop,precomputed){var computed=precomputed||styles(el);var ret;if(!computed)return;if(computed.getPropertyValue){ret=computed.getPropertyValue(prop)||computed[prop]}else{ret=computed[prop]}if(""===ret&&!withinDocument(el)){debug("element not within document, try finding from style attribute");var style=require("./style");ret=style(el,prop)}debug("computed value of %s: %s",prop,ret);return undefined===ret?ret:ret+""}});require.register("component-value/index.js",function(exports,require,module){var typeOf=require("type");module.exports=function(el,val){if(2==arguments.length)return set(el,val);return get(el)};function get(el){switch(type(el)){case"checkbox":case"radio":if(el.checked){var attr=el.getAttribute("value");return null==attr?true:attr}else{return false}case"radiogroup":for(var i=0,radio;radio=el[i];i++){if(radio.checked)return radio.value}break;case"select":for(var i=0,option;option=el.options[i];i++){if(option.selected)return option.value}break;default:return el.value}}function set(el,val){switch(type(el)){case"checkbox":case"radio":if(val){el.checked=true}else{el.checked=false}break;case"radiogroup":for(var i=0,radio;radio=el[i];i++){radio.checked=radio.value===val}break;case"select":for(var i=0,option;option=el.options[i];i++){option.selected=option.value===val}break;default:el.value=val}}function type(el){var group="array"==typeOf(el)||"object"==typeOf(el);if(group)el=el[0];var name=el.nodeName.toLowerCase();var type=el.getAttribute("type");if(group&&type&&"radio"==type.toLowerCase())return"radiogroup";if("input"==name&&type&&"checkbox"==type.toLowerCase())return"checkbox";if("input"==name&&type&&"radio"==type.toLowerCase())return"radio";if("select"==name)return"select";return name}});require.register("component-query/index.js",function(exports,require,module){function one(selector,el){return el.querySelector(selector)}exports=module.exports=function(selector,el){el=el||document;return one(selector,el)};exports.all=function(selector,el){el=el||document;return el.querySelectorAll(selector)};exports.engine=function(obj){if(!obj.one)throw new Error(".one callback required");if(!obj.all)throw new Error(".all callback required");one=obj.one;exports.all=obj.all}});require.register("component-matches-selector/index.js",function(exports,require,module){var query=require("query");var proto=Element.prototype;var vendor=proto.matches||proto.webkitMatchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector;module.exports=match;function match(el,selector){if(vendor)return vendor.call(el,selector);var nodes=query.all(selector,el.parentNode);for(var i=0;i<nodes.length;++i){if(nodes[i]==el)return true}return false}});require.register("yields-traverse/index.js",function(exports,require,module){var matches=require("matches-selector");module.exports=function(type,el,selector,len){var el=el[type],n=len||1,ret=[];if(!el)return ret;do{if(n==ret.length)break;if(1!=el.nodeType)continue;if(matches(el,selector))ret.push(el);if(!selector)ret.push(el)}while(el=el[type]);return ret}});require.register("component-trim/index.js",function(exports,require,module){exports=module.exports=trim;function trim(str){if(str.trim)return str.trim();return str.replace(/^\s*|\s*$/g,"")}exports.left=function(str){if(str.trimLeft)return str.trimLeft();return str.replace(/^\s*/,"")};exports.right=function(str){if(str.trimRight)return str.trimRight();return str.replace(/\s*$/,"")}});require.register("yields-isarray/index.js",function(exports,require,module){var isArray=Array.isArray;var str=Object.prototype.toString;module.exports=isArray||function(val){return!!val&&"[object Array]"==str.call(val)}});require.register("component-props/index.js",function(exports,require,module){var globals=/\b(this|Array|Date|Object|Math|JSON)\b/g;module.exports=function(str,fn){var p=unique(props(str));if(fn&&"string"==typeof fn)fn=prefixed(fn);if(fn)return map(str,p,fn);return p};function props(str){return str.replace(/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\//g,"").replace(globals,"").match(/[$a-zA-Z_]\w*/g)||[]}function map(str,props,fn){var re=/\.\w+|\w+ *\(|"[^"]*"|'[^']*'|\/([^/]+)\/|[a-zA-Z_]\w*/g;return str.replace(re,function(_){if("("==_[_.length-1])return fn(_);if(!~props.indexOf(_))return _;return fn(_)})}function unique(arr){var ret=[];for(var i=0;i<arr.length;i++){if(~ret.indexOf(arr[i]))continue;ret.push(arr[i])}return ret}function prefixed(str){return function(_){return str+_}}});require.register("component-to-function/index.js",function(exports,require,module){var expr=require("props");module.exports=toFunction;function toFunction(obj){switch({}.toString.call(obj)){case"[object Object]":return objectToFunction(obj);case"[object Function]":return obj;case"[object String]":return stringToFunction(obj);case"[object RegExp]":return regexpToFunction(obj);default:return defaultToFunction(obj)}}function defaultToFunction(val){return function(obj){return val===obj}}function regexpToFunction(re){return function(obj){return re.test(obj)}}function stringToFunction(str){if(/^ *\W+/.test(str))return new Function("_","return _ "+str);return new Function("_","return "+get(str))}function objectToFunction(obj){var match={};for(var key in obj){match[key]=typeof obj[key]==="string"?defaultToFunction(obj[key]):toFunction(obj[key])}return function(val){if(typeof val!=="object")return false;for(var key in match){if(!(key in val))return false;if(!match[key](val[key]))return false}return true}}function get(str){var props=expr(str);if(!props.length)return"_."+str;var val;for(var i=0,prop;prop=props[i];i++){val="_."+prop;val="('function' == typeof "+val+" ? "+val+"() : "+val+")";str=str.replace(new RegExp(prop,"g"),val)}return str}});require.register("matthewp-keys/index.js",function(exports,require,module){var has=Object.prototype.hasOwnProperty;module.exports=Object.keys||function(obj){var keys=[];for(var key in obj){if(has.call(obj,key)){keys.push(key)}}return keys}});require.register("matthewp-text/index.js",function(exports,require,module){var text="innerText"in document.createElement("div")?"innerText":"textContent";module.exports=function(el,val){if(val==null)return el[text];el[text]=val}});require.register("component-dom/index.js",function(exports,require,module){var isArray=require("isArray");var domify=require("domify");var each=require("each");var events=require("event");var getKeys=require("keys");var query=require("query");var trim=require("trim");var slice=[].slice;var attrs=["id","src","rel","cols","rows","type","name","href","title","style","width","height","action","method","tabindex","placeholder"];var quickExpr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/;module.exports=dom;function dom(selector,context){if(isArray(selector)){return new List(selector)}if(selector instanceof List){return selector}if(selector.nodeName){return new List([selector])}if("string"!=typeof selector){throw new TypeError("invalid selector")}var htmlselector=trim.left(selector);if(isHTML(htmlselector)){return new List([domify(htmlselector)],htmlselector)}var ctx=context?context instanceof List?context[0]:context:document;return new List(query.all(selector,ctx),selector)}dom.List=List;dom.attrs=attrs;dom.use=function(name,fn){var keys=[];var tmp;if(2==arguments.length){keys.push(name);tmp={};tmp[name]=fn;fn=tmp}else if(name.name){fn=name;name=name.name;keys.push(name);tmp={};tmp[name]=fn;fn=tmp}else{keys=getKeys(name);fn=name}for(var i=0,len=keys.length;i<len;i++){List.prototype[keys[i]]=fn[keys[i]]}return this};function List(els,selector){els=els||[];var len=this.length=els.length;for(var i=0;i<len;i++)this[i]=els[i];this.selector=selector}List.prototype.dom=dom;List.prototype.length=0;List.prototype.splice=Array.prototype.splice;List.prototype.toArray=function(){return slice.call(this)};each(attrs,function(name){List.prototype[name]=function(val){if(0==arguments.length)return this.attr(name);return this.attr(name,val)}});dom.use(require("./lib/attributes"));dom.use(require("./lib/classes"));dom.use(require("./lib/events"));dom.use(require("./lib/manipulate"));dom.use(require("./lib/traverse"));function isHTML(str){if(str.charAt(0)==="<"&&str.charAt(str.length-1)===">"&&str.length>=3)return true;var match=quickExpr.exec(str);return!!(match&&match[1])}});require.register("component-dom/lib/traverse.js",function(exports,require,module){var proto=Array.prototype;var each=require("each");var traverse=require("traverse");var toFunction=require("to-function");var matches=require("matches-selector");exports.find=function(selector){return this.dom(selector,this)};exports.is=function(selector){for(var i=0,el;el=this[i];i++){if(matches(el,selector))return true}return false};exports.parent=function(selector,limit){return this.dom(traverse("parentNode",this[0],selector,limit||1))};exports.next=function(selector,limit){return this.dom(traverse("nextSibling",this[0],selector,limit||1))};exports.prev=exports.previous=function(selector,limit){return this.dom(traverse("previousSibling",this[0],selector,limit||1))};exports.each=function(fn){var dom=this.dom;for(var i=0,list,len=this.length;i<len;i++){list=dom(this[i]);fn.call(list,list,i)}return this};exports.forEach=function(fn){for(var i=0,len=this.length;i<len;i++){fn.call(this[i],this[i],i)}return this};exports.map=function(fn){fn=toFunction(fn);var dom=this.dom;var out=[];for(var i=0,len=this.length;i<len;i++){out.push(fn.call(dom(this[i]),this[i],i))}return this.dom(out)};exports.filter=exports.select=function(fn){fn=toFunction(fn);var dom=this.dom;var out=[];var val;for(var i=0,len=this.length;i<len;i++){val=fn.call(dom(this[i]),this[i],i);if(val)out.push(this[i])}return this.dom(out)};exports.reject=function(fn){var out=[];var len=this.length;var val,i;if("string"==typeof fn)fn=toFunction(fn);if(fn){for(i=0;i<len;i++){val=fn.call(dom(this[i]),this[i],i);if(!val)out.push(this[i])}}else{for(i=0;i<len;i++){if(this[i]!=fn)out.push(this[i])}}return this.dom(out)};exports.at=function(i){return this.dom(this[i])};exports.first=function(){return this.dom(this[0])};exports.last=function(){return this.dom(this[this.length-1])};each(["push","pop","shift","splice","unshift","reverse","sort","toString","concat","join","slice"],function(method){exports[method]=function(){return proto[method].apply(this.toArray(),arguments)}})});require.register("component-dom/lib/manipulate.js",function(exports,require,module){var value=require("value");var css=require("css");var text=require("text");exports.text=function(str){if(1==arguments.length){return this.forEach(function(el){if(11==el.nodeType){var node;while(node=el.firstChild)el.removeChild(node);el.appendChild(document.createTextNode(str))}else{text(el,str)}})}var out="";this.forEach(function(el){if(11==el.nodeType){out+=getText(el.firstChild)}else{out+=text(el)}});return out};function getText(el){var ret="";var type=el.nodeType;var node;switch(type){case 1:case 9:ret=text(el);break;case 11:ret=el.textContent||el.innerText;break;case 3:case 4:return el.nodeValue;default:while(node=el[i++]){ret+=getText(node)}}return ret}exports.html=function(html){if(1==arguments.length){return this.forEach(function(el){el.innerHTML=html})}return this[0]&&this[0].innerHTML};exports.css=function(prop,val){if(!val&&"object"!=typeof prop){return css(this[0],prop)}this.forEach(function(el){css(el,prop,val)});return this};exports.prepend=function(val){var dom=this.dom;this.forEach(function(target,i){dom(val).forEach(function(selector){selector=i?selector.cloneNode(true):selector;if(target.children.length){target.insertBefore(selector,target.firstChild)}else{target.appendChild(selector)}})});return this};exports.append=function(val){var dom=this.dom;this.forEach(function(target,i){dom(val).forEach(function(el){el=i?el.cloneNode(true):el;target.appendChild(el)})});return this};exports.insertAfter=function(val){var dom=this.dom;this.forEach(function(el){dom(val).forEach(function(target,i){if(!target.parentNode)return;el=i?el.cloneNode(true):el;target.parentNode.insertBefore(el,target.nextSibling)})});return this};exports.appendTo=function(val){this.dom(val).append(this);return this};exports.replace=function(val){var self=this;var list=this.dom(val);list.forEach(function(el,i){var old=self[i];var parent=old.parentNode;if(!parent)return;el=i?el.cloneNode(true):el;parent.replaceChild(el,old)});return this};exports.empty=function(){return this.forEach(function(el){text(el,"")})};exports.remove=function(){return this.forEach(function(el){var parent=el.parentNode;if(parent)parent.removeChild(el)})};exports.clone=function(){var out=this.map(function(el){return el.cloneNode(true)});return this.dom(out)};exports.focus=function(){this[0].focus();return this}});require.register("component-dom/lib/classes.js",function(exports,require,module){var classes=require("classes");exports.addClass=function(name){return this.forEach(function(el){el._classes=el._classes||classes(el);el._classes.add(name)})};exports.removeClass=function(name){return this.forEach(function(el){el._classes=el._classes||classes(el);el._classes.remove(name)})};exports.toggleClass=function(name,bool){var fn="toggle";if(2==arguments.length){fn=bool?"add":"remove"}return this.forEach(function(el){el._classes=el._classes||classes(el);el._classes[fn](name)})};exports.hasClass=function(name){var el;for(var i=0,len=this.length;i<len;i++){el=this[i];el._classes=el._classes||classes(el);if(el._classes.has(name))return true}return false}});require.register("component-dom/lib/attributes.js",function(exports,require,module){var value=require("value");exports.attr=function(name,val){if(1==arguments.length){return this[0]&&this[0].getAttribute(name)}if(null==val){return this.removeAttr(name)}return this.forEach(function(el){el.setAttribute(name,val)})};exports.removeAttr=function(name){return this.forEach(function(el){el.removeAttribute(name)})};exports.prop=function(name,val){if(1==arguments.length){return this[0]&&this[0][name]}return this.forEach(function(el){el[name]=val})};exports.val=exports.value=function(val){if(0==arguments.length){return this[0]?value(this[0]):undefined}return this.forEach(function(el){value(el,val)})}});require.register("component-dom/lib/events.js",function(exports,require,module){var events=require("event");var delegate=require("delegate");exports.on=function(event,selector,fn,capture){if("string"==typeof selector){return this.forEach(function(el){fn._delegate=delegate.bind(el,selector,event,fn,capture)})}capture=fn;fn=selector;return this.forEach(function(el){events.bind(el,event,fn,capture)})};exports.off=function(event,selector,fn,capture){if("string"==typeof selector){return this.forEach(function(el){delegate.unbind(el,event,fn._delegate,capture)})}capture=fn;fn=selector;return this.forEach(function(el){events.unbind(el,event,fn,capture)})}});require.register("nami-doc-contains/index.js",function(exports,require,module){module.exports=function(arr,el){var i=0,len=arr.length>>>0;while(i<len){if(el===arr[i++]){return true}}return false}});require.register("bestiejs-platform.js/platform.js",function(exports,require,module){(function(){"use strict";var objectTypes={"function":true,object:true};var root=objectTypes[typeof window]&&window||this;var oldRoot=root;var freeExports=objectTypes[typeof exports]&&exports;var freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module;var freeGlobal=freeExports&&freeModule&&typeof global=="object"&&global;if(freeGlobal&&(freeGlobal.global===freeGlobal||freeGlobal.window===freeGlobal||freeGlobal.self===freeGlobal)){root=freeGlobal}var maxSafeInteger=Math.pow(2,53)-1;var reOpera=/Opera/;var thisBinding=this;var objectProto=Object.prototype;var hasOwnProperty=objectProto.hasOwnProperty;var toString=objectProto.toString;function capitalize(string){string=String(string);return string.charAt(0).toUpperCase()+string.slice(1)}function each(object,callback){var index=-1,length=object?object.length:0;if(typeof length=="number"&&length>-1&&length<=maxSafeInteger){while(++index<length){callback(object[index],index,object)}}else{forOwn(object,callback)}}function format(string){string=trim(string);return/^(?:webOS|i(?:OS|P))/.test(string)?string:capitalize(string)}function forOwn(object,callback){for(var key in object){if(hasOwnProperty.call(object,key)){callback(object[key],key,object)}}}function getClassOf(value){return value==null?capitalize(value):toString.call(value).slice(8,-1)}function isHostType(object,property){var type=object!=null?typeof object[property]:"number";return!/^(?:boolean|number|string|undefined)$/.test(type)&&(type=="object"?!!object[property]:true)}function qualify(string){return String(string).replace(/([ -])(?!$)/g,"$1?")}function reduce(array,callback){var accumulator=null;each(array,function(value,index){accumulator=callback(accumulator,value,index,array)});return accumulator}function trim(string){return String(string).replace(/^ +| +$/g,"")}function parse(ua){var context=root;var isCustomContext=ua&&typeof ua=="object"&&getClassOf(ua)!="String";if(isCustomContext){context=ua;ua=null}var nav=context.navigator||{};var userAgent=nav.userAgent||"";ua||(ua=userAgent);var isModuleScope=isCustomContext||thisBinding==oldRoot;var likeChrome=isCustomContext?!!nav.likeChrome:/\bChrome\b/.test(ua)&&!/internal|\n/i.test(toString.toString());var objectClass="Object",airRuntimeClass=isCustomContext?objectClass:"ScriptBridgingProxyObject",enviroClass=isCustomContext?objectClass:"Environment",javaClass=isCustomContext&&context.java?"JavaPackage":getClassOf(context.java),phantomClass=isCustomContext?objectClass:"RuntimeObject";var java=/Java/.test(javaClass)&&context.java;var rhino=java&&getClassOf(context.environment)==enviroClass;var alpha=java?"a":"α";var beta=java?"b":"β";var doc=context.document||{};var opera=context.operamini||context.opera;var operaClass=reOpera.test(operaClass=isCustomContext&&opera?opera["[[Class]]"]:getClassOf(opera))?operaClass:opera=null;var data;var arch=ua;var description=[];var prerelease=null;var useFeatures=ua==userAgent;var version=useFeatures&&opera&&typeof opera.version=="function"&&opera.version();var layout=getLayout([{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","Trident","KHTML","Gecko"]);var name=getName(["Adobe AIR","Arora","Avant Browser","Camino","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel",{label:"SRWare Iron",pattern:"Iron"},"K-Meleon","Konqueror","Lunascape","Maxthon","Midori","Nook Browser","PhantomJS","Raven","Rekonq","RockMelt","SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser","Sunrise","Swiftfox","WebPositive","Opera Mini","Opera",{label:"Opera",pattern:"OPR"},"Chrome",{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"IE",pattern:"MSIE"},"Safari"]);var product=getProduct([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},"Google TV","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nook","PlayBook","PlayStation 4","PlayStation 3","PlayStation Vita","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]);var manufacturer=getManufacturer({Apple:{iPad:1,iPhone:1,iPod:1},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1},HP:{TouchPad:1},HTC:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{"PlayStation 4":1,"PlayStation 3":1,"PlayStation Vita":1}});var os=getOS(["Android","CentOS","Debian","Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function getLayout(guesses){return reduce(guesses,function(result,guess){return result||RegExp("\\b"+(guess.pattern||qualify(guess))+"\\b","i").exec(ua)&&(guess.label||guess)})}function getManufacturer(guesses){return reduce(guesses,function(result,value,key){return result||(value[product]||value[(0,/^[a-z]+(?: +[a-z]+\b)*/i.exec(product))]||RegExp("\\b"+qualify(key)+"(?:\\b|\\w*\\d)","i").exec(ua))&&key})}function getName(guesses){return reduce(guesses,function(result,guess){return result||RegExp("\\b"+(guess.pattern||qualify(guess))+"\\b","i").exec(ua)&&(guess.label||guess)})}function getOS(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp("\\b"+pattern+"(?:/[\\d.]+|[ \\w.]*)","i").exec(ua))){data={6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};if(/^Win/i.test(result)&&(data=data[(0,/[\d.]+$/.exec(result))])){result="Windows "+data}result=format(String(result).replace(RegExp(pattern,"i"),guess.label||guess).replace(/ ce$/i," CE").replace(/hpw/i,"web").replace(/Macintosh/,"Mac OS").replace(/_PowerPC/i," OS").replace(/(OS X) [^ \d]+/i,"$1").replace(/Mac (OS X)/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/x86\.64/gi,"x86_64").split(" on ")[0])}return result})}function getProduct(guesses){return reduce(guesses,function(result,guess){var pattern=guess.pattern||qualify(guess);if(!result&&(result=RegExp("\\b"+pattern+" *\\d+[.\\w_]*","i").exec(ua)||RegExp("\\b"+pattern+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(ua))){if((result=String(guess.label&&!RegExp(pattern,"i").test(guess.label)?guess.label:result).split("/"))[1]&&!/[\d.]+/.test(result[0])){result[0]+=" "+result[1]}guess=guess.label||guess;result=format(result[0].replace(RegExp(pattern,"i"),guess).replace(RegExp("; *(?:"+guess+"[_-])?","i")," ").replace(RegExp("("+guess+")[-_.]?(\\w)","i"),"$1 $2"))}return result})}function getVersion(patterns){return reduce(patterns,function(result,pattern){return result||(RegExp(pattern+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(ua)||0)[1]||null})}function toStringPlatform(){return this.description||""}layout&&(layout=[layout]);if(manufacturer&&!product){product=getProduct([manufacturer])}if(data=/Google TV/.exec(product)){product=data[0]}if(/\bSimulator\b/i.test(ua)){product=(product?product+" ":"")+"Simulator"}if(/^iP/.test(product)){name||(name="Safari");os="iOS"+((data=/ OS ([\d_]+)/i.exec(ua))?" "+data[1].replace(/_/g,"."):"")}else if(name=="Konqueror"&&!/buntu/i.test(os)){os="Kubuntu"}else if(manufacturer&&manufacturer!="Google"&&(/Chrome/.test(name)&&!/Mobile Safari/.test(ua)||/Vita/.test(product))){name="Android Browser";os=/Android/.test(os)?os:"Android"}else if(!name||(data=!/\bMinefield\b|\(Android;/i.test(ua)&&/Firefox|Safari/.exec(name))){if(name&&!product&&/[\/,]|^[^(]+?\)/.test(ua.slice(ua.indexOf(data+"/")+8))){name=null}if((data=product||manufacturer||os)&&(product||manufacturer||/Android|Symbian OS|Tablet OS|webOS/.test(os))){name=/[a-z]+(?: Hat)?/i.exec(/Android/.test(os)?os:data)+" Browser"}}if((data=/\((Mobile|Tablet).*?Firefox/i.exec(ua))&&data[1]){os="Firefox OS";if(!product){product=data[1]}}if(!version){version=getVersion(["(?:Cloud9|CriOS|CrMo|Iron|Opera ?Mini|OPR|Raven|Silk(?!/[\\d.]+$))","Version",qualify(name),"(?:Firefox|Minefield|NetFront)"])}if(layout=="iCab"&&parseFloat(version)>3){layout=["WebKit"]}else if(data=/Opera/.test(name)&&(/OPR/.test(ua)?"Blink":"Presto")||/\b(?:Midori|Nook|Safari)\b/i.test(ua)&&"WebKit"||!layout&&/\bMSIE\b/i.test(ua)&&(os=="Mac OS"?"Tasman":"Trident")){layout=[data]}else if(/PlayStation(?! Vita)/i.test(name)&&layout=="WebKit"){layout=["NetFront"]}if(!name&&layout=="Trident"){name="IE";version=(/\brv:([\d.]+)/.exec(ua)||0)[1]}if(useFeatures){if(isHostType(context,"global")){if(java){data=java.lang.System;arch=data.getProperty("os.arch");os=os||data.getProperty("os.name")+" "+data.getProperty("os.version")
}if(isHostType(context,"exports")){if(isModuleScope&&isHostType(context,"system")&&(data=[context.system])[0]){os||(os=data[0].os||null);try{data[1]=(data[1]=context.require)&&data[1]("ringo/engine").version;version=data[1].join(".");name="RingoJS"}catch(e){if(data[0].global.system==context.system){name="Narwhal"}}}else if(typeof context.process=="object"&&(data=context.process)){name="Node.js";arch=data.arch;os=data.platform;version=/[\d.]+/.exec(data.version)[0]}else if(rhino){name="Rhino"}}else if(rhino){name="Rhino"}}else if(getClassOf(data=context.runtime)==airRuntimeClass){name="Adobe AIR";os=data.flash.system.Capabilities.os}else if(getClassOf(data=context.phantom)==phantomClass){name="PhantomJS";version=(data=data.version||null)&&data.major+"."+data.minor+"."+data.patch}else if(typeof doc.documentMode=="number"&&(data=/\bTrident\/(\d+)/i.exec(ua))){version=[version,doc.documentMode];if((data=+data[1]+4)!=version[1]){description.push("IE "+version[1]+" mode");layout&&(layout[1]="");version[1]=data}version=name=="IE"?String(version[1].toFixed(1)):version[0]}os=os&&format(os)}if(version&&(data=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(version)||/(?:alpha|beta)(?: ?\d)?/i.exec(ua+";"+(useFeatures&&nav.appMinorVersion))||/\bMinefield\b/i.test(ua)&&"a")){prerelease=/b/i.test(data)?"beta":"alpha";version=version.replace(RegExp(data+"\\+?$"),"")+(prerelease=="beta"?beta:alpha)+(/\d+\+?/.exec(data)||"")}if(name=="Fennec"||name=="Firefox"&&/Android|Firefox OS/.test(os)){name="Firefox Mobile"}else if(name=="Maxthon"&&version){version=version.replace(/\.[\d.]+/,".x")}else if(name=="Silk"){if(!/Mobi/i.test(ua)){os="Android";description.unshift("desktop mode")}if(/Accelerated *= *true/i.test(ua)){description.unshift("accelerated")}}else if(name=="IE"&&(data=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(ua)||0)[1])){name+=" Mobile";os="Windows Phone OS "+data+".x";description.unshift("desktop mode")}else if(/Xbox/i.test(product)){os=null;if(product=="Xbox 360"&&/IEMobile/.test(ua)){description.unshift("mobile mode")}}else if((name=="Chrome"||name=="IE"||name&&!product&&!/Browser|Mobi/.test(name))&&(os=="Windows CE"||/Mobi/i.test(ua))){name+=" Mobile"}else if(name=="IE"&&useFeatures&&context.external===null){description.unshift("platform preview")}else if((/BlackBerry/.test(product)||/BB10/.test(ua))&&(data=(RegExp(product.replace(/ +/g," *")+"/([.\\d]+)","i").exec(ua)||0)[1]||version)){data=[data,/BB10/.test(ua)];os=(data[1]?(product=null,manufacturer="BlackBerry"):"Device Software")+" "+data[0];version=null}else if(this!=forOwn&&(product!="Wii"&&(useFeatures&&opera||/Opera/.test(name)&&/\b(?:MSIE|Firefox)\b/i.test(ua)||name=="Firefox"&&/OS X (?:\d+\.){2,}/.test(os)||name=="IE"&&(os&&!/^Win/.test(os)&&version>5.5||/Windows XP/.test(os)&&version>8||version==8&&!/Trident/.test(ua))))&&!reOpera.test(data=parse.call(forOwn,ua.replace(reOpera,"")+";"))&&data.name){data="ing as "+data.name+((data=data.version)?" "+data:"");if(reOpera.test(name)){if(/IE/.test(data)&&os=="Mac OS"){os=null}data="identify"+data}else{data="mask"+data;if(operaClass){name=format(operaClass.replace(/([a-z])([A-Z])/g,"$1 $2"))}else{name="Opera"}if(/IE/.test(data)){os=null}if(!useFeatures){version=null}}layout=["Presto"];description.push(data)}if(data=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(ua)||0)[1]){data=[parseFloat(data.replace(/\.(\d)$/,".0$1")),data];if(name=="Safari"&&data[1].slice(-1)=="+"){name="WebKit Nightly";prerelease="alpha";version=data[1].slice(0,-1)}else if(version==data[1]||version==(data[2]=(/\bSafari\/([\d.]+\+?)/i.exec(ua)||0)[1])){version=null}data[1]=(/\bChrome\/([\d.]+)/i.exec(ua)||0)[1];if(data[0]==537.36&&data[2]==537.36&&parseFloat(data[1])>=28){layout=["Blink"]}if(!useFeatures||!likeChrome&&!data[1]){layout&&(layout[1]="like Safari");data=(data=data[0],data<400?1:data<500?2:data<526?3:data<533?4:data<534?"4+":data<535?5:data<537?6:data<538?7:"7")}else{layout&&(layout[1]="like Chrome");data=data[1]||(data=data[0],data<530?1:data<532?2:data<532.05?3:data<533?4:data<534.03?5:data<534.07?6:data<534.1?7:data<534.13?8:data<534.16?9:data<534.24?10:data<534.3?11:data<535.01?12:data<535.02?"13+":data<535.07?15:data<535.11?16:data<535.19?17:data<536.05?18:data<536.1?19:data<537.01?20:data<537.11?"21+":data<537.13?23:data<537.18?24:data<537.24?25:data<537.36?26:layout!="Blink"?"27":"28")}layout&&(layout[1]+=" "+(data+=typeof data=="number"?".x":/[.+]/.test(data)?"":"+"));if(name=="Safari"&&(!version||parseInt(version)>45)){version=data}}if(name=="Opera"&&(data=/(?:zbov|zvav)$/.exec(os))){name+=" ";description.unshift("desktop mode");if(data=="zvav"){name+="Mini";version=null}else{name+="Mobile"}}else if(name=="Safari"&&/Chrome/.exec(layout&&layout[1])){description.unshift("desktop mode");name="Chrome Mobile";version=null;if(/OS X/.test(os)){manufacturer="Apple";os="iOS 4.3+"}else{os=null}}if(version&&version.indexOf(data=/[\d.]+$/.exec(os))==0&&ua.indexOf("/"+data+"-")>-1){os=trim(os.replace(data,""))}if(layout&&!/Avant|Nook/.test(name)&&(/Browser|Lunascape|Maxthon/.test(name)||/^(?:Adobe|Arora|Midori|Phantom|Rekonq|Rock|Sleipnir|Web)/.test(name)&&layout[1])){(data=layout[layout.length-1])&&description.push(data)}if(description.length){description=["("+description.join("; ")+")"]}if(manufacturer&&product&&product.indexOf(manufacturer)<0){description.push("on "+manufacturer)}if(product){description.push((/^on /.test(description[description.length-1])?"":"on ")+product)}if(os){data=/ ([\d.+]+)$/.exec(os);os={architecture:32,family:data?os.replace(data[0],""):os,version:data?data[1]:null,toString:function(){var version=this.version;return this.family+(version?" "+version:"")+(this.architecture==64?" 64-bit":"")}}}if((data=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(arch))&&!/\bi686\b/i.test(arch)){if(os){os.architecture=64;os.family=os.family.replace(RegExp(" *"+data),"")}if(name&&(/WOW64/i.test(ua)||useFeatures&&/\w(?:86|32)$/.test(nav.cpuClass||nav.platform))){description.unshift("32-bit")}}ua||(ua=null);var platform={};platform.description=ua;platform.layout=layout&&layout[0];platform.manufacturer=manufacturer;platform.name=name;platform.prerelease=prerelease;platform.product=product;platform.ua=ua;platform.version=name&&version;platform.os=os||{architecture:null,family:null,version:null,toString:function(){return"null"}};platform.parse=parse;platform.toString=toStringPlatform;if(platform.version){description.unshift(version)}if(platform.name){description.unshift(name)}if(os&&name&&!(os==String(os).split(" ")[0]&&(os==name.split(" ")[0]||product))){description.push(product?"("+os+")":"on "+os)}if(description.length){platform.description=description.join(" ")}return platform}if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define(function(){return parse()})}else if(freeExports&&freeModule){forOwn(parse(),function(value,key){freeExports[key]=value})}else{root.platform=parse()}}).call(this)});require.register("userjoy/lib/index.js",function(exports,require,module){var UserJoy=require("./userjoy");var userjoy=module.exports=exports=new UserJoy;userjoy.require=require;exports.VERSION="1.0.0";userjoy.initialize()});require.register("userjoy/lib/app.js",function(exports,require,module){var bind=require("bind");var debug=require("debug")("uj:app");var Entity=require("./entity");var inherit=require("inherit");function App(options){this.defaults={};this.debug=debug;Entity.call(this,options)}inherit(App,Entity);App.prototype.load=function(){Entity.prototype.load.call(this)};module.exports=bind.all(new App);module.exports.App=App});require.register("userjoy/lib/company.js",function(exports,require,module){var bind=require("bind");var debug=require("debug")("uj:company");var Entity=require("./entity");var inherit=require("inherit");function Company(options){this.defaults={};this.debug=debug;Entity.call(this,options)}inherit(Company,Entity);module.exports=bind.all(new Company);module.exports.Company=Company});require.register("userjoy/lib/cookie.js",function(exports,require,module){var bind=require("bind");var cookie=require("cookie");var clone=require("clone");var debug=require("debug")("uj:cookie");var defaults=require("defaults");var topDomain=require("top-domain");function Cookie(){this.aid=window._userjoy_id;this.cookiePrefix="_uj";this.debug=debug;var domain="."+topDomain(window.location.href);if(domain===".localhost")domain="";this._options={maxage:31536e6,path:"/",domain:domain}}Cookie.prototype.set=function(key,value){return cookie(key,value,clone(this._options))};Cookie.prototype.get=function(key){return cookie(key)};Cookie.prototype.remove=function(key){cookie(key,null,clone(this._options))};Cookie.prototype._name=function(){return this.cookiePrefix+"."+this.aid};Cookie.prototype._getIds=function(){var aid=this.aid;var name=this._name(aid);var cook=this.get(name);var split;var ids={};if(cook){split=cook.split(".");ids.uid=split[0]||"";ids.cid=split[1]||""}return ids};Cookie.prototype._setIds=function(ids){var aid=this.aid;if(!aid)return false;ids||(ids={});ids.uid||(ids.uid="");ids.cid||(ids.cid="");var name=this._name(aid);var val=ids.uid+"."+ids.cid;return this.set(name,val)};Cookie.prototype.uid=function(uid){this.debug("uid %s",uid);var aid=this.aid;switch(arguments.length){case 0:return this._getUid();case 1:return this._setUid(uid)}};Cookie.prototype._getUid=function(){var aid=this.aid;return this._getIds()["uid"]};Cookie.prototype._setUid=function(uid){var aid=this.aid;var ids=this._getIds();ids.uid=uid||ids.uid||"";return this._setIds(ids)};Cookie.prototype.cid=function(cid){var aid=this.aid;switch(arguments.length){case 0:return this._getCid();case 1:return this._setCid(cid)}};Cookie.prototype._getCid=function(){var aid=this.aid;return this._getIds()["cid"]};Cookie.prototype._setCid=function(cid){var ids=this._getIds();ids.cid=cid||ids.cid||"";return this._setIds(ids)};module.exports=bind.all(new Cookie);module.exports.Cookie=Cookie});require.register("userjoy/lib/entity.js",function(exports,require,module){var traverse=require("isodate-traverse");var defaults=require("defaults");var cookie=require("./cookie");var extend=require("extend");var clone=require("clone");module.exports=Entity;function Entity(options){this.options(options)}Entity.prototype.options=function(options){if(arguments.length===0)return this._options;options||(options={});defaults(options,this.defaults||{});this._options=options};Entity.prototype.id=function(id){switch(arguments.length){case 0:return this._getId();case 1:return this._setId(id)}};Entity.prototype._getId=function(){var ret=this._id;return ret===undefined?null:ret};Entity.prototype._setId=function(id){this._id=id};Entity.prototype.traits=function(traits){switch(arguments.length){case 0:return this._getTraits();case 1:return this._setTraits(traits)}};Entity.prototype._getTraits=function(){var ret=this._traits;return ret?traverse(clone(ret)):{}};Entity.prototype._setTraits=function(traits){traits||(traits={});this._traits=traits};Entity.prototype.identify=function(traits){traits||(traits={});this.traits(traits)};Entity.prototype.setTrait=function(name,val){var traits=this.traits();traits[name]=val;this.traits(traits)};Entity.prototype.logout=function(){this.id(null);this.traits({})};Entity.prototype.reset=function(){this.logout();this.options({})}});require.register("userjoy/lib/get-gravatar.js",function(exports,require,module){module.exports=function get_gravatar(email,size){var MD5=function(s){function L(k,d){return k<<d|k>>>32-d}function K(G,k){var I,d,F,H,x;F=G&2147483648;H=k&2147483648;I=G&1073741824;d=k&1073741824;x=(G&1073741823)+(k&1073741823);if(I&d){return x^2147483648^F^H}if(I|d){if(x&1073741824){return x^3221225472^F^H}else{return x^1073741824^F^H}}else{return x^F^H}}function r(d,F,k){return d&F|~d&k}function q(d,F,k){return d&k|F&~k}function p(d,F,k){return d^F^k}function n(d,F,k){return F^(d|~k)}function u(G,F,aa,Z,k,H,I){G=K(G,K(K(r(F,aa,Z),k),I));return K(L(G,H),F)}function f(G,F,aa,Z,k,H,I){G=K(G,K(K(q(F,aa,Z),k),I));return K(L(G,H),F)}function D(G,F,aa,Z,k,H,I){G=K(G,K(K(p(F,aa,Z),k),I));return K(L(G,H),F)}function t(G,F,aa,Z,k,H,I){G=K(G,K(K(n(F,aa,Z),k),I));return K(L(G,H),F)}function e(G){var Z;var F=G.length;var x=F+8;var k=(x-x%64)/64;var I=(k+1)*16;var aa=Array(I-1);var d=0;var H=0;while(H<F){Z=(H-H%4)/4;d=H%4*8;aa[Z]=aa[Z]|G.charCodeAt(H)<<d;H++}Z=(H-H%4)/4;d=H%4*8;aa[Z]=aa[Z]|128<<d;aa[I-2]=F<<3;aa[I-1]=F>>>29;return aa}function B(x){var k="",F="",G,d;for(d=0;d<=3;d++){G=x>>>d*8&255;F="0"+G.toString(16);k=k+F.substr(F.length-2,2)}return k}function J(k){k=k.replace(/rn/g,"n");var d="";for(var F=0;F<k.length;F++){var x=k.charCodeAt(F);if(x<128){d+=String.fromCharCode(x)}else{if(x>127&&x<2048){d+=String.fromCharCode(x>>6|192);d+=String.fromCharCode(x&63|128)}else{d+=String.fromCharCode(x>>12|224);d+=String.fromCharCode(x>>6&63|128);d+=String.fromCharCode(x&63|128)}}}return d}var C=Array();var P,h,E,v,g,Y,X,W,V;var S=7,Q=12,N=17,M=22;var A=5,z=9,y=14,w=20;var o=4,m=11,l=16,j=23;var U=6,T=10,R=15,O=21;s=J(s);C=e(s);Y=1732584193;X=4023233417;W=2562383102;V=271733878;for(P=0;P<C.length;P+=16){h=Y;E=X;v=W;g=V;Y=u(Y,X,W,V,C[P+0],S,3614090360);V=u(V,Y,X,W,C[P+1],Q,3905402710);W=u(W,V,Y,X,C[P+2],N,606105819);X=u(X,W,V,Y,C[P+3],M,3250441966);Y=u(Y,X,W,V,C[P+4],S,4118548399);V=u(V,Y,X,W,C[P+5],Q,1200080426);W=u(W,V,Y,X,C[P+6],N,2821735955);X=u(X,W,V,Y,C[P+7],M,4249261313);Y=u(Y,X,W,V,C[P+8],S,1770035416);V=u(V,Y,X,W,C[P+9],Q,2336552879);W=u(W,V,Y,X,C[P+10],N,4294925233);X=u(X,W,V,Y,C[P+11],M,2304563134);Y=u(Y,X,W,V,C[P+12],S,1804603682);V=u(V,Y,X,W,C[P+13],Q,4254626195);W=u(W,V,Y,X,C[P+14],N,2792965006);X=u(X,W,V,Y,C[P+15],M,1236535329);Y=f(Y,X,W,V,C[P+1],A,4129170786);V=f(V,Y,X,W,C[P+6],z,3225465664);W=f(W,V,Y,X,C[P+11],y,643717713);X=f(X,W,V,Y,C[P+0],w,3921069994);Y=f(Y,X,W,V,C[P+5],A,3593408605);V=f(V,Y,X,W,C[P+10],z,38016083);W=f(W,V,Y,X,C[P+15],y,3634488961);X=f(X,W,V,Y,C[P+4],w,3889429448);Y=f(Y,X,W,V,C[P+9],A,568446438);V=f(V,Y,X,W,C[P+14],z,3275163606);W=f(W,V,Y,X,C[P+3],y,4107603335);X=f(X,W,V,Y,C[P+8],w,1163531501);Y=f(Y,X,W,V,C[P+13],A,2850285829);V=f(V,Y,X,W,C[P+2],z,4243563512);W=f(W,V,Y,X,C[P+7],y,1735328473);X=f(X,W,V,Y,C[P+12],w,2368359562);Y=D(Y,X,W,V,C[P+5],o,4294588738);V=D(V,Y,X,W,C[P+8],m,2272392833);W=D(W,V,Y,X,C[P+11],l,1839030562);X=D(X,W,V,Y,C[P+14],j,4259657740);Y=D(Y,X,W,V,C[P+1],o,2763975236);V=D(V,Y,X,W,C[P+4],m,1272893353);W=D(W,V,Y,X,C[P+7],l,4139469664);X=D(X,W,V,Y,C[P+10],j,3200236656);Y=D(Y,X,W,V,C[P+13],o,681279174);V=D(V,Y,X,W,C[P+0],m,3936430074);W=D(W,V,Y,X,C[P+3],l,3572445317);X=D(X,W,V,Y,C[P+6],j,76029189);Y=D(Y,X,W,V,C[P+9],o,3654602809);V=D(V,Y,X,W,C[P+12],m,3873151461);W=D(W,V,Y,X,C[P+15],l,530742520);X=D(X,W,V,Y,C[P+2],j,3299628645);Y=t(Y,X,W,V,C[P+0],U,4096336452);V=t(V,Y,X,W,C[P+7],T,1126891415);W=t(W,V,Y,X,C[P+14],R,2878612391);X=t(X,W,V,Y,C[P+5],O,4237533241);Y=t(Y,X,W,V,C[P+12],U,1700485571);V=t(V,Y,X,W,C[P+3],T,2399980690);W=t(W,V,Y,X,C[P+10],R,4293915773);X=t(X,W,V,Y,C[P+1],O,2240044497);Y=t(Y,X,W,V,C[P+8],U,1873313359);V=t(V,Y,X,W,C[P+15],T,4264355552);W=t(W,V,Y,X,C[P+6],R,2734768916);X=t(X,W,V,Y,C[P+13],O,1309151649);Y=t(Y,X,W,V,C[P+4],U,4149444226);V=t(V,Y,X,W,C[P+11],T,3174756917);W=t(W,V,Y,X,C[P+2],R,718787259);X=t(X,W,V,Y,C[P+9],O,3951481745);Y=K(Y,h);X=K(X,E);W=K(W,v);V=K(V,g)}var i=B(Y)+B(X)+B(W)+B(V);return i.toLowerCase()};var size=size||80;return"http://www.gravatar.com/avatar/"+MD5(email)+".jpg?d=mm"}});require.register("userjoy/lib/message.js",function(exports,require,module){var app=require("./app");var ajax=require("ajax");var bind=require("bind");var debug=require("debug")("uj:message");var dom=require("dom");var template=require("./message-template");var user=require("./user");var MSG_TEMPLATE_ID="uj_message";var MSG_BODY_TEMPLATE_ID="uj_message_body";var MSG_SENT_TEMPLATE_ID="uj_message_sent";var MSG_ERROR_ID="uj_message_error";var MSG_SEND_FEEDBACK_ID="uj_message_send_button";var MSG_DISPLAY_QMARK="uj_message_display_qmark";function Message(){this.debug=debug}Message.prototype.load=function(){this.debug("loading ...");var self=this;var appTraits=app.traits();var locals={MSG_TEMPLATE_ID:MSG_TEMPLATE_ID,MSG_BODY_TEMPLATE_ID:MSG_BODY_TEMPLATE_ID,MSG_SENT_TEMPLATE_ID:MSG_SENT_TEMPLATE_ID,MSG_ERROR_ID:MSG_ERROR_ID,MSG_SEND_FEEDBACK_ID:MSG_SEND_FEEDBACK_ID,MSG_DISPLAY_QMARK:MSG_DISPLAY_QMARK,color:appTraits.color,isDisplayed:appTraits.showMessageBox?"block":"none"};dom("body").prepend(template(locals))};Message.prototype.loadCss=function(){var self=this;self.debug("loading css ...");var style=document.createElement("style");style.type="text/css";style.innerHTML='.uj-foot{display:table-row;vertical-align:bottom;height:1px}#uj-wrap{min-height:100%}#uj-main{overflow:auto;padding-bottom:150px}#uj-footer{position:relative;margin-top:-150px;height:150px;clear:both}#uj-page-wrap{width:75%;margin:80px auto}.uj-form-control{height:43px;padding:10px 15px;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075);-webkit-transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.uj-message-template{margin:20px 0;padding:20px;border-left:1px solid #eee}.uj-message-template-danger{border-color:#d9534f;border-right:1px solid #d9534f;border-top:1px solid #d9534f;border-bottom:1px solid #d9534f;border-radius:4px}.uj-message-template-warning{background-color:#fcf8f2;border-color:#f0ad4e;border-right:1px solid #fcf8f2;border-top:1px solid #fcf8f2;border-bottom:1px solid #fcf8f2;border-radius:4px}.uj-message-template-info{background-color:#f4f8fa;border-color:#5bc0de;border-right:1px solid #f4f8fa;border-top:1px solid #f4f8fa;border-bottom:1px solid #f4f8fa;border-radius:4px}.uj-message-template-success{background-color:#F4FDF0;border-color:#3C763D;border-right:1px solid #F4FDF0;border-top:1px solid #F4FDF0;border-bottom:1px solid #F4FDF0;border-radius:4px}.uj-message-template-default{background-color:#EEE;border-color:#B4B4B4;border-right:1px solid #EEE;border-top:1px solid #EEE;border-bottom:1px solid #EEE;border-radius:4px}.uj-message-template-notice{background-color:#FCFCDD;border-color:#BDBD89;border-right:1px solid #FCFCDD;border-top:1px solid #FCFCDD;border-bottom:1px solid #FCFCDD;border-radius:4px}.uj-dropdown-menu>li>a{display:block;padding:3px 20px;clear:both;font-weight:400;line-height:1.42857143;color:#7b8a8b;white-space:nowrap}.uj-message-email-success{border-color:#BDBD89;border-right:1px solid #bdc3c7;border-top:1px solid #bdc3c7;border-bottom:1px solid #bdc3c7;border-radius:4px}.uj-input-group{position:relative;display:table;border-collapse:separate}.uj-panel-footer{padding:10px 15px;background-color:#ecf0f1;border-top:1px solid #ecf0f1;border-bottom-right-radius:3px;border-bottom-left-radius:3px}.uj-input-sm{height:18px;padding:6px 9px;font-size:13px;line-height:1.5;border-radius:3px}.uj-form-control:focus{border-color:#66afe9;outline:0;-webkit-box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6);box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px rgba(102,175,233,.6)}.uj-btn{display:inline-block;cursor:pointer;padding:10px 15px;font-size:15px;line-height:1.42857143;border-radius:4px;-moz-user-select:none;-ms-user-select:none;user-select:none}.uj-btn-danger{color:#fff;background-color:#e74c3c;border-color:#e74c3c}.uj-input-group .uj-form-control{position:relative;float:left;width:100%;margin-bottom:0}.uj-input-group-btn{position:relative;font-size:0}.uj-input-group-addon,.uj-input-group-btn{width:1%;white-space:nowrap;vertical-align:middle}.uj-input-group .uj-form-control,.uj-input-group-addon,.uj-input-group-btn{display:table-cell}.uj-input-group-btn>.uj-btn{position:relative}.uj-close{float:right;font-size:21px;font-weight:700;line-height:1;color:#000;text-shadow:0 1px 0 #fff;opacity:.2;filter:alpha(opacity=20)}.uj-close:focus,.uj-close:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.5;filter:alpha(opacity=50)}button.uj-close{padding:0;cursor:pointer;background:0 0;border:0;-webkit-appearance:none}.uj-badge{display:inline-block;min-width:20px;padding:10px 14px;font-size:24px;font-weight:700;color:#fff;line-height:1;vertical-align:baseline;white-space:nowrap;text-align:center;background-color:#5bc0de;border-radius:10px}.uj-panel-default{color:#333;background-color:#bdc3c7}.uj-panel-heading{background-color:#f5f5f5}.uj-col-md-4{width:450px}.uj-row{margin-left:-15px;margin-right:-15px}.uj-arrow:before{content:"";position:absolute;left:296px;border-style:solid;border-width:17px 17px 0;border-color:#ddd transparent;display:block;width:0;z-index:0}*{box-sizing:border-box}.uj-panel-default{border-color:#ddd}.uj-panel{margin-bottom:20px;background-color:#fff;border:1px solid transparent;border-radius:4px;box-shadow:0 1px 1px rgba(0,0,0,.05)}.uj-panel-default>.uj-panel-heading{color:#333;background-color:#f5f5f5;border-color:#ddd}.uj-panel-heading{padding:10px 15px;border-bottom:1px solid transparent;border-top-right-radius:3px;border-top-left-radius:3px}.uj-panel-title{margin-top:0;margin-bottom:0;font-size:16px;color:inherit}.uj-panel-body{padding:15px}.uj-form-control{display:block;width:100%;font-size:14px;line-height:1.42857143;color:#555;background-color:#fff;background-image:none;border:1px solid #ccc;border-radius:4px;box-shadow:inset 0 1px 1px rgba(0,0,0,.075);transition:border-color ease-in-out .15s,box-shadow ease-in-out .15s}.uj-btn-block{display:block;width:100%;padding-left:0;padding-right:0}.uj-btn-group-sm>.uj-btn,.uj-btn-sm{padding:5px 10px;font-size:12px;line-height:1.5;border-radius:3px}.uj-btn-info{color:#fff;background-color:#5bc0de;border-color:#46b8da}.uj-btn{margin-bottom:0;font-weight:400;text-align:center;vertical-align:middle;background-image:none;border:1px solid transparent;white-space:nowrap;-webkit-user-select:none}';dom("head").prepend(style)};Message.prototype.show=function(){this.debug("opening ...");document.getElementById(MSG_TEMPLATE_ID).style.display=document.getElementById(MSG_TEMPLATE_ID).style.display==="none"?"block":"none";document.getElementById(MSG_SENT_TEMPLATE_ID).style.display="none";document.getElementById(MSG_ERROR_ID).style.display="none";document.getElementById(MSG_BODY_TEMPLATE_ID).focus()};Message.prototype.hide=function(){this.debug("closing ...");var id=MSG_TEMPLATE_ID;document.getElementById(id).style.display="none"};Message.prototype.send=function(){var self=this;var appTraits=app.traits();var userTraits=user.traits();var app_id=appTraits.app_id;var MSG_POST_URL=appTraits.CONVERSATION_URL;var user_id=userTraits.user_id;var email=userTraits.email;var msgBody=dom("#"+MSG_BODY_TEMPLATE_ID).val();if(!msgBody){document.getElementById(MSG_ERROR_ID).style.display="block";return}document.getElementById(MSG_SEND_FEEDBACK_ID).disabled=true;var msg={app_id:app_id,body:msgBody};if(user_id){msg.user_id=user_id}else if(email){msg.email=email}else{self.debug("ERROR while sending: no user_id or email to identify user");return}self.debug("sending ... %o",msg);ajax({type:"POST",url:MSG_POST_URL,data:msg,dataType:"json",success:function(saved){self.debug("sent successfully");document.getElementById(MSG_SENT_TEMPLATE_ID).style.display="block";document.getElementById(MSG_ERROR_ID).style.display="none";document.getElementById(MSG_TEMPLATE_ID).value="";document.getElementById(MSG_BODY_TEMPLATE_ID).value="";document.getElementById(MSG_SEND_FEEDBACK_ID).disabled=false;setTimeout(function(){document.getElementById(MSG_TEMPLATE_ID).style.display="none"},2e3)},error:function(err){self.debug("ERROR on sending: %o",err);document.getElementById(MSG_SEND_FEEDBACK_ID).disabled=false}})};module.exports=bind.all(new Message)});require.register("userjoy/lib/message-template.js",function(exports,require,module){module.exports=function anonymous(obj){function escape(html){return String(html).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function section(obj,prop,negate,str){var val=obj[prop];if("function"==typeof val)return val.call(obj,str);if(negate)val=!val;if(val)return str;return""}return'<div>\n    <a style="cursor: pointer; display: '+escape(obj.isDisplayed)+';" onclick="userjoy.showFeedback()" id="'+escape(obj.MSG_DISPLAY_QMARK)+'">\n        <div style="position: fixed; bottom:30px; right:20px; z-index: 99999999;">\n            <span style="display: inline-block;\n            min-width: 20px;\n            padding: 10px 14px;\n            font-size: 24px;\n            font-weight: 700;\n            color: #fff;\n            line-height: 1;\n            vertical-align: baseline;\n            white-space: nowrap;\n            text-align: center;\n            background-color: '+escape(obj.color)+';\n            border-radius: 10px;">&#63;\n            </span>\n        </div>\n    </a>\n    <div style="display: none" id="'+escape(obj.MSG_TEMPLATE_ID)+'">\n        <div style="position: fixed; right: 9px; z-index: 99999999; top: 50%; left: 50%; margin-left: -225px; height: 1000px; margin-top: -150px;" class="uj-col-md-4">\n            <div class="uj-panel uj-panel-default" style="border-color: #ddd;">\n                <div class="uj-panel-heading">\n                    <h3 class="uj-panel-title" style="text-align: center;">Send us a Message</h3>\n                    <button type="button" class="uj-close" aria-hidden="true" onclick="userjoy.hideFeedback()" id="closeFeedback" style="margin-top: -25px;">&times;</button>\n                </div>\n                <div class="uj-panel-body">\n                    <form role="form">\n                        <textarea id="'+escape(obj.MSG_BODY_TEMPLATE_ID)+'" class="uj-form-control" style="padding: 4px; height: 200px; border-color: '+escape(obj.color)+'; box-shadow: none;"></textarea>\n                        <span style="display: none; margin-top: 10px;" id="'+escape(obj.MSG_SENT_TEMPLATE_ID)+'">\n                        Message Sent. Thanks!</span>\n                        <span id="'+escape(obj.MSG_ERROR_ID)+'" style=" display:none; color: #a94442; margin-top: 10px;">\n                        Your message cannot be blank\n                        </span>\n                        <button type="button" class="uj-btn uj-btn-sm uj-btn-block" onclick="userjoy.sendConversation()" style="float: right; margin-top: 10px; color: #fff; background-color: '+escape(obj.color)+"; border-color: "+escape(obj.color)+'" id="'+escape(obj.MSG_SEND_FEEDBACK_ID)+'">Send Message</button>\n                        <div style="text-align: center;">\n                        <small style="color: #95a5a6;">Powered by <a style="text-decoration:none; color: '+escape(obj.color)+'" href="http://www.userjoy.co", target="_blank">UserJoy</a></small>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'}});require.register("userjoy/lib/notification.js",function(exports,require,module){var ajax=require("ajax");var app=require("./app");var bind=require("bind");var debug=require("debug")("uj:notification");var dom=require("dom");var getGravatar=require("./get-gravatar");var is=require("is");var json=require("json");var template=require("./notification-template");var user=require("./user");var ERROR_ID="uj_error";var NOTIFICATION_TEMPLATE_ID="uj_notification";var REPLY_TEMPLATE_ID="uj_notification_reply";var SENT_TEMPLATE_ID="uj_notification_reply_sent";var SEND_MESSAGE_NOTIFICATION_ID="uj_send_message_notification_btn";function Notification(){this.debug=debug}Notification.prototype.load=function(cb){this.debug("loading ...");var self=this;var appTraits=app.traits();var userTraits=user.traits();var ajaxCB=function(err,notf){if(err){return cb(err)}notf=notf||{};is.string(notf)&&(notf=json.parse(notf));if(is.empty(notf)){return cb(new Error("no notification object in response"))}app.setTrait("color",notf.color);app.setTrait("showMessageBox",notf.showMessageBox);if(!notf.body){return cb(new Error("no new notification found"))}app.setTrait("automessageId",notf.amId);var gravatar=getGravatar(notf.senderEmail,80);var locals={senderName:notf.senderName,body:notf.body,color:notf.color,NOTIFICATION_TEMPLATE_ID:NOTIFICATION_TEMPLATE_ID,REPLY_TEMPLATE_ID:REPLY_TEMPLATE_ID,SENT_TEMPLATE_ID:SENT_TEMPLATE_ID,ERROR_ID:ERROR_ID,SEND_MESSAGE_NOTIFICATION_ID:SEND_MESSAGE_NOTIFICATION_ID,gravatar:gravatar};dom("body").prepend(template(locals));cb()};var conditions={app_id:appTraits.app_id};if(userTraits.user_id){conditions.user_id=userTraits.user_id}else if(userTraits.email){conditions.email=userTraits.email}else{return cb(new Error("user_id or email required to fetch notification"))}ajax({type:"GET",url:appTraits.NOTIFICATION_FETCH_URL,data:conditions,success:function(notf){ajaxCB(null,notf)},error:function(err){ajaxCB(err)}})};Notification.prototype.show=function(){};Notification.prototype.hide=function(){this.debug("hiding ...");document.getElementById(NOTIFICATION_TEMPLATE_ID).style.display="none"};Notification.prototype.reply=function(){var self=this;var appTraits=app.traits();var userTraits=user.traits();var REPLY_URL=appTraits.CONVERSATION_URL;var msg=dom("#"+REPLY_TEMPLATE_ID).val();if(!msg.length){document.getElementById(ERROR_ID).style.display="block";return}document.getElementById(SEND_MESSAGE_NOTIFICATION_ID).disabled=true;var reply={amId:appTraits.automessageId,app_id:appTraits.app_id,body:msg};if(userTraits.user_id){reply.user_id=userTraits.user_id}else if(userTraits.email){reply.email=userTraits.email}else{self.debug(new Error("user_id or email required to send reply"));return}this.debug("replying %o",reply);ajax({type:"POST",url:REPLY_URL,data:reply,success:function(){self.debug("reply sent");document.getElementById(SENT_TEMPLATE_ID).style.display="block";document.getElementById(ERROR_ID).style.display="none";document.getElementById(REPLY_TEMPLATE_ID).value="";document.getElementById(SEND_MESSAGE_NOTIFICATION_ID).disabled=false;setTimeout(function(){document.getElementById(NOTIFICATION_TEMPLATE_ID).style.display="none"},2e3)},error:function(err){self.debug(err);document.getElementById(SEND_MESSAGE_NOTIFICATION_ID).disabled=false},dataType:"json"})};module.exports=bind.all(new Notification)});require.register("userjoy/lib/notification-template.js",function(exports,require,module){module.exports=function anonymous(obj){function escape(html){return String(html).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function section(obj,prop,negate,str){var val=obj[prop];if("function"==typeof val)return val.call(obj,str);if(negate)val=!val;if(val)return str;return""}return'<div id="'+escape(obj.NOTIFICATION_TEMPLATE_ID)+'" style="position: absolute; z-index: 99999999; right: 0; margin-left: auto; margin-right: 3px;">\n    <div style="float:right; width: 350px; margin-top: 50px;">\n        <div class="uj-message-template" style="min-height: 175px; max-height: 175px; overflow: auto; border-color: '+escape(obj.color)+"; border-right: 1px solid "+escape(obj.color)+";border-top: 1px solid "+escape(obj.color)+"; border-bottom: 1px solid "+escape(obj.color)+'; border-radius: 4px; z-index: 99999999; background-color: #fefefe;">\n            <button type="button" class="uj-close" aria-hidden="true" onclick="userjoy.hideNotification()" style="margin-top: -15px;">&times;</button>\n            <img src="'+escape(obj.gravatar)+'" width="60px">\n            <div style="margin-top: -75px; margin-left: 75px;">\n                <p style="margin-top: 12px;"><b>'+escape(obj.senderName)+"</b></p>\n                <p>"+obj.body+'</p>\n            </div>\n            <span id="'+escape(obj.SENT_TEMPLATE_ID)+'" style="display:none; color: #7f8c8d; position: absolute; bottom: 70px;">Message Sent. Thanks!</span>\n            <span id="'+escape(obj.ERROR_ID)+'" style="display:none; color: #a94442; position: absolute; bottom: 70px;">Your reply cannot be blank</span>\n            <br>\n            <div style="position: absolute; bottom: 60px; right: 16px;">\n                <small style="color: #95a5a6;">Powered by <a style="text-decoration:none; color: '+escape(obj.color)+'" href="http://www.userjoy.co", target="_blank">UserJoy</a></small>\n            </div>\n        </div>\n        <div class="uj-panel-footer" style="margin-top: -23px; z-index: 99999999">\n            <div class="uj-input-group">\n                <textarea id="'+escape(obj.REPLY_TEMPLATE_ID)+'" type="text" name="msg" class="uj-form-control uj-input-sm" placeholder="Reply here..." style="margin-top: 3px; height: 34px;"></textarea>\n                <span class="uj-input-group-btn">\n                <button id="'+escape(obj.SEND_MESSAGE_NOTIFICATION_ID)+'" class="uj-btn uj-btn-sm" id="btn-chat" type="button" onclick="userjoy.replyNotification()" style="margin-top: 3px; height: 34px; color: #fff; background-color: '+escape(obj.color)+"; border-color: "+escape(obj.color)+'">\n                Send</button>\n                </span>\n            </div>\n        </div>\n    </div>\n</div>\n'
}});require.register("userjoy/lib/queue.js",function(exports,require,module){var bind=require("bind");var contains=require("contains");var debug=require("debug")("uj:queue");var each=require("each");var is=require("is");module.exports=bind.all(new Queue);function Queue(){this.debug=debug;this.tasks=[];return this}Queue.prototype.create=function(arr){if(!is.array(arr))return this;var self=this;each(arr,function(task){self.tasks.push(task)});return this};Queue.prototype.prioritize=function(){var identifyTasks=this._pullIdentify();for(var i=identifyTasks.length-1;i>=0;i--){this.tasks.unshift(identifyTasks[i])}return this};Queue.prototype._pullIdentify=function(){var identifyFuncs=["identify","company"];var identifyTasks=[];var otherTasks=[];each(this.tasks,function(t,i){if(contains(identifyFuncs,t[0])){identifyTasks.push(t)}else{otherTasks.push(t)}});this.tasks=otherTasks;return identifyTasks;return this}});require.register("userjoy/lib/user.js",function(exports,require,module){var bind=require("bind");var debug=require("debug")("uj:user");var Entity=require("./entity");var inherit=require("inherit");function User(options){this.defaults={};this.debug=debug;Entity.call(this,options)}inherit(User,Entity);User.prototype.load=function(){Entity.prototype.load.call(this)};module.exports=bind.all(new User);module.exports.User=User});require.register("userjoy/lib/userjoy.js",function(exports,require,module){var ajax=require("ajax");var app=require("./app");var bind=require("bind");var callback=require("callback");var canonical=require("canonical");var clone=require("clone");var company=require("./company");var contains=require("contains");var cookie=require("./cookie");var debug=require("debug");var debugUserjoy=debug("uj:userjoy");var defaults=require("defaults");var each=require("each");var is=require("is");var isEmail=require("is-email");var isMeta=require("is-meta");var json=require("json");var message=require("./message");var newDate=require("new-date");var notification=require("./notification");var on=require("event").bind;var platform=require("platform.js");var prevent=require("prevent");var queue=require("./queue");var size=require("object").length;var url=require("url");var user=require("./user");var API_URL="http://api.userjoy.co/track";module.exports=UserJoy;function UserJoy(){this.debug=debugUserjoy;this._timeout=200;app.identify({apiUrl:API_URL,TRACK_URL:API_URL,IDENTIFY_URL:API_URL+"/identify",COMPANY_URL:API_URL+"/company",NOTIFICATION_FETCH_URL:API_URL+"/notifications",CONVERSATION_URL:API_URL+"/conversations"});bind.all(this)}UserJoy.prototype.initialize=function(){this.debug("initializing ...");var self=this;var app_id=window._userjoy_id;if(!app_id){self.debug('Error: Please provide valid APP_KEY in window.userjoy.load("APP_KEY")');self.debug("Error in initializing");return}app.setTrait("app_id",app_id);queue.create(window.userjoy).prioritize();on(window,"click",self._autoClickHandler,true);autoPageTrack.call(self);this._invokeQueue();notification.load(function(err){if(err){self.debug("Error while initializing: %o",err)}message.loadCss();message.load()});this.debug("INITIALIZED:: %o",this);return this};UserJoy.prototype._invokeQueue=function(){for(var i=queue.tasks.length-1;i>=0;i--){this.push(queue.tasks.shift())}return this};UserJoy.prototype.identify=function(traits,fn){var self=this;this.debug("identify");var appTraits=app.traits();var app_id=appTraits.app_id;var IDENTIFY_URL=appTraits.IDENTIFY_URL;if(!is.object(traits)){this.debug("err: userjoy.identify must be passed a traits object");return}if(!traits.user_id&&!traits.email){self.debug("userjoy.identify must provide the user_id or email");return}var device=(platform.manufacturer?platform.manufacturer+" ":"")+(platform.product?platform.product:"");device&&(traits.device=device);traits.browser=(platform.name?platform.name+" ":"")+(platform.version?platform.version:"");traits.os=platform.os.toString();user.identify(traits);var data={app_id:app_id,user:user.traits()};ajax({type:"GET",url:IDENTIFY_URL,data:data,success:function(ids){self.debug("identify success: %o",ids);ids||(ids={});is.string(ids)&&(ids=json.parse(ids));cookie.uid(ids.uid)},error:function(err){self.debug("identify error: %o",err)}});this._callback(fn);return this};UserJoy.prototype.company=function(traits,fn){var self=this;var appTraits=app.traits();var app_id=appTraits.app_id;var COMPANY_URL=appTraits.COMPANY_URL;this.debug("company");if(!is.object(traits)){this.debug("err: userjoy.company must be passed a traits object");return}if(!traits.company_id){self.debug("userjoy.company must provide the company_id");return}company.identify(traits);var uid=cookie.uid();if(!uid){self.debug("Cannot identify company without identifying user");return}var data={app_id:app_id,u:uid,company:company.traits()};ajax({type:"GET",url:COMPANY_URL,data:data,success:function(ids){self.debug("company success: %o",ids);ids||(ids={});is.string(ids)&&(ids=json.parse(ids));cookie.cid(ids.cid)},error:function(err){self.debug("company error: %o",err)}});this._callback(fn);return this};UserJoy.prototype.track=function(name,module,properties,fn){this.debug("track",name,properties);if(is.fn(properties))fn=properties,properties=null;if(is.fn(module))fn=module,module=properties=null;this._sendEvent("track",name,module,properties);this._callback(fn);return this};UserJoy.prototype.track_link=function(links,name,module,properties){if(!links)return this;if(is.string(links))links=[links];if(is.object(module))properties=module,module=null;var self=this;each(links,function(el_id){var el=window.document.getElementById(el_id);on(el,"click",function(e){var ev=is.fn(name)?name(el):name;var module=is.fn(module)?module(el):module;var props=is.fn(properties)?properties(el):properties;self._sendEvent("link",ev,null,props);if(el.href&&el.target!=="_blank"&&!isMeta(e)){prevent(e);self._callback(function(){window.location.href=el.href})}})});return this};UserJoy.prototype.track_form=function(forms,name,module,properties){if(!forms)return this;if(is.string(forms))forms=[forms];if(is.object(module))properties=module,module=null;var self=this;each(forms,function(el_id){var el=window.document.getElementById(el_id);function handler(e){prevent(e);var ev=is.fn(name)?name(el):name;var module=is.fn(module)?module(el):module;var props=is.fn(properties)?properties(el):properties;self._sendEvent("form",ev,module,props);self._callback(function(){el.submit()})}var $=window.jQuery||window.Zepto;if($){$(el).submit(handler)}else{on(el,"submit",handler)}});return this};UserJoy.prototype.page=function(name,module,properties,fn){name=name||canonicalPath();if(is.fn(properties))fn=properties,properties=null;if(is.fn(module))fn=module,properties=module=null;if(is.object(module))properties=module,module=null;this._sendEvent("page",name,module,properties);this._callback(fn);return this};UserJoy.prototype.timeout=function(timeout){this._timeout=timeout};UserJoy.prototype._callback=function(fn){callback.async(fn,this._timeout);return this};UserJoy.prototype._sendEvent=function(type,name,module,properties){var self=this;var appTraits=app.traits();var app_id=appTraits.app_id;var TRACK_URL=appTraits.TRACK_URL;var uid=cookie.uid();var cid=cookie.cid();if(!uid){self.debug("Cannot send event without identifying user");return}var data={app_id:app_id,e:{type:type,name:name},u:uid};if(cid)data.c=cid;if(module)data.e.module=module;if(properties)data.e.meta=properties;self.debug("Sending new event: %o",data);ajax({type:"GET",url:TRACK_URL,data:data,success:function(msg){self.debug("success "+msg)},error:function(err){self.debug("error "+err)}});return this};UserJoy.prototype.push=function(args){var method=args.shift();if(!this[method])return;this[method].apply(this,args)};UserJoy.prototype.toggleDebug=function(){var all="uj:*";if(debug.enabled(all)){debug.disable(all)}else{debug.enable(all)}};UserJoy.prototype.hideNotification=notification.hide;UserJoy.prototype.replyNotification=notification.reply;UserJoy.prototype.showFeedback=message.show;UserJoy.prototype.hideFeedback=message.hide;UserJoy.prototype.sendConversation=message.send;function canonicalPath(){var canon=canonical();if(!canon)return window.location.pathname;var parsed=url.parse(canon);return parsed.pathname}function canonicalUrl(){var canon=canonical();if(canon)return canon;var url=window.location.href;var i=url.indexOf("#");return-1==i?url:url.slice(0,i)}UserJoy.prototype._autoClickHandler=function(e){var target=e.target||e.srcElement;var tagName=target.tagName.toLowerCase();var type=target.type?target.type.toLowerCase():"";var id=target.id;var form=target.form;var formId=form?form.id||form.name:"";var self=this;console.log("\n\n autoClickHandler",tagName.type,id,form,formId,target);if(target){if(type==="submit"&&formId){console.log("\n\n\n Sending form submit",formId);self._sendEvent("form",formId)}else if(tagName==="a"&&tagName==="button"&&id){console.log("\n\n\n Sending click event",formId);self._sendEvent("link",id)}else{return}}};function autoPageTrack(){var newVal=location.pathname+location.hashname;var self=this;if(window.history.pushState){var define=function(obj,methodName,val){var orig=obj[methodName];obj[methodName]=function(){var str=orig.apply(obj,arguments);return typeof obj[val]=="function"&&obj[val](),str}};define(window.history,"pushState","ujPushstate");define(window.history,"replaceState","ujReplacestate");var handler=function(){var oldVal=window.location.pathname+window.location.hash;if(newVal!==oldVal){newVal=oldVal;console.log("\n\n\n handler called",newVal,oldVal,UserJoy.prototype.page,"\n\n");UserJoy.prototype.page.call(self)}};history.ujPushstate=history.ujReplacestate=handler;window.addEventListener("popstate",handler,true);window.addEventListener("hashchange",handler,true)}}});require.alias("avetisk-defaults/index.js","userjoy/deps/defaults/index.js");require.alias("avetisk-defaults/index.js","defaults/index.js");require.alias("component-clone/index.js","userjoy/deps/clone/index.js");require.alias("component-clone/index.js","clone/index.js");require.alias("component-type/index.js","component-clone/deps/type/index.js");require.alias("component-cookie/index.js","userjoy/deps/cookie/index.js");require.alias("component-cookie/index.js","cookie/index.js");require.alias("component-each/index.js","userjoy/deps/each/index.js");require.alias("component-each/index.js","each/index.js");require.alias("component-type/index.js","component-each/deps/type/index.js");require.alias("component-event/index.js","userjoy/deps/event/index.js");require.alias("component-event/index.js","event/index.js");require.alias("component-inherit/index.js","userjoy/deps/inherit/index.js");require.alias("component-inherit/index.js","inherit/index.js");require.alias("component-object/index.js","userjoy/deps/object/index.js");require.alias("component-object/index.js","object/index.js");require.alias("component-url/index.js","userjoy/deps/url/index.js");require.alias("component-url/index.js","url/index.js");require.alias("ianstormtaylor-bind/index.js","userjoy/deps/bind/index.js");require.alias("ianstormtaylor-bind/index.js","bind/index.js");require.alias("component-bind/index.js","ianstormtaylor-bind/deps/bind/index.js");require.alias("segmentio-bind-all/index.js","ianstormtaylor-bind/deps/bind-all/index.js");require.alias("component-bind/index.js","segmentio-bind-all/deps/bind/index.js");require.alias("component-type/index.js","segmentio-bind-all/deps/type/index.js");require.alias("ianstormtaylor-callback/index.js","userjoy/deps/callback/index.js");require.alias("ianstormtaylor-callback/index.js","callback/index.js");require.alias("timoxley-next-tick/index.js","ianstormtaylor-callback/deps/next-tick/index.js");require.alias("ianstormtaylor-is/index.js","userjoy/deps/is/index.js");require.alias("ianstormtaylor-is/index.js","is/index.js");require.alias("component-type/index.js","ianstormtaylor-is/deps/type/index.js");require.alias("ianstormtaylor-is-empty/index.js","ianstormtaylor-is/deps/is-empty/index.js");require.alias("segmentio-canonical/index.js","userjoy/deps/canonical/index.js");require.alias("segmentio-canonical/index.js","canonical/index.js");require.alias("segmentio-extend/index.js","userjoy/deps/extend/index.js");require.alias("segmentio-extend/index.js","extend/index.js");require.alias("segmentio-is-email/index.js","userjoy/deps/is-email/index.js");require.alias("segmentio-is-email/index.js","is-email/index.js");require.alias("segmentio-is-meta/index.js","userjoy/deps/is-meta/index.js");require.alias("segmentio-is-meta/index.js","is-meta/index.js");require.alias("segmentio-isodate-traverse/index.js","userjoy/deps/isodate-traverse/index.js");require.alias("segmentio-isodate-traverse/index.js","isodate-traverse/index.js");require.alias("component-each/index.js","segmentio-isodate-traverse/deps/each/index.js");require.alias("component-type/index.js","component-each/deps/type/index.js");require.alias("ianstormtaylor-is/index.js","segmentio-isodate-traverse/deps/is/index.js");require.alias("component-type/index.js","ianstormtaylor-is/deps/type/index.js");require.alias("ianstormtaylor-is-empty/index.js","ianstormtaylor-is/deps/is-empty/index.js");require.alias("segmentio-isodate/index.js","segmentio-isodate-traverse/deps/isodate/index.js");require.alias("segmentio-json/index.js","userjoy/deps/json/index.js");require.alias("segmentio-json/index.js","json/index.js");require.alias("component-json-fallback/index.js","segmentio-json/deps/json-fallback/index.js");require.alias("segmentio-new-date/lib/index.js","userjoy/deps/new-date/lib/index.js");require.alias("segmentio-new-date/lib/milliseconds.js","userjoy/deps/new-date/lib/milliseconds.js");require.alias("segmentio-new-date/lib/seconds.js","userjoy/deps/new-date/lib/seconds.js");require.alias("segmentio-new-date/lib/index.js","userjoy/deps/new-date/index.js");require.alias("segmentio-new-date/lib/index.js","new-date/index.js");require.alias("ianstormtaylor-is/index.js","segmentio-new-date/deps/is/index.js");require.alias("component-type/index.js","ianstormtaylor-is/deps/type/index.js");require.alias("ianstormtaylor-is-empty/index.js","ianstormtaylor-is/deps/is-empty/index.js");require.alias("segmentio-isodate/index.js","segmentio-new-date/deps/isodate/index.js");require.alias("segmentio-new-date/lib/index.js","segmentio-new-date/index.js");require.alias("segmentio-top-domain/index.js","userjoy/deps/top-domain/index.js");require.alias("segmentio-top-domain/index.js","userjoy/deps/top-domain/index.js");require.alias("segmentio-top-domain/index.js","top-domain/index.js");require.alias("component-url/index.js","segmentio-top-domain/deps/url/index.js");require.alias("segmentio-top-domain/index.js","segmentio-top-domain/index.js");require.alias("visionmedia-debug/index.js","userjoy/deps/debug/index.js");require.alias("visionmedia-debug/debug.js","userjoy/deps/debug/debug.js");require.alias("visionmedia-debug/index.js","debug/index.js");require.alias("yields-prevent/index.js","userjoy/deps/prevent/index.js");require.alias("yields-prevent/index.js","prevent/index.js");require.alias("forbeslindesay-ajax/index.js","userjoy/deps/ajax/index.js");require.alias("forbeslindesay-ajax/index.js","ajax/index.js");require.alias("component-type/index.js","forbeslindesay-ajax/deps/type/index.js");require.alias("component-dom/index.js","userjoy/deps/dom/index.js");require.alias("component-dom/lib/traverse.js","userjoy/deps/dom/lib/traverse.js");require.alias("component-dom/lib/manipulate.js","userjoy/deps/dom/lib/manipulate.js");require.alias("component-dom/lib/classes.js","userjoy/deps/dom/lib/classes.js");require.alias("component-dom/lib/attributes.js","userjoy/deps/dom/lib/attributes.js");require.alias("component-dom/lib/events.js","userjoy/deps/dom/lib/events.js");require.alias("component-dom/index.js","dom/index.js");require.alias("component-each/index.js","component-dom/deps/each/index.js");require.alias("component-type/index.js","component-each/deps/type/index.js");require.alias("component-event/index.js","component-dom/deps/event/index.js");require.alias("component-delegate/index.js","component-dom/deps/delegate/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");require.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("discore-closest/index.js","discore-closest/index.js");require.alias("component-event/index.js","component-delegate/deps/event/index.js");require.alias("component-domify/index.js","component-dom/deps/domify/index.js");require.alias("component-classes/index.js","component-dom/deps/classes/index.js");require.alias("component-indexof/index.js","component-classes/deps/indexof/index.js");require.alias("component-css/index.js","component-dom/deps/css/index.js");require.alias("component-css/lib/css.js","component-dom/deps/css/lib/css.js");require.alias("component-css/lib/prop.js","component-dom/deps/css/lib/prop.js");require.alias("component-css/lib/swap.js","component-dom/deps/css/lib/swap.js");require.alias("component-css/lib/style.js","component-dom/deps/css/lib/style.js");require.alias("component-css/lib/hooks.js","component-dom/deps/css/lib/hooks.js");require.alias("component-css/lib/styles.js","component-dom/deps/css/lib/styles.js");require.alias("component-css/lib/vendor.js","component-dom/deps/css/lib/vendor.js");require.alias("component-css/lib/support.js","component-dom/deps/css/lib/support.js");require.alias("component-css/lib/computed.js","component-dom/deps/css/lib/computed.js");require.alias("component-css/index.js","component-dom/deps/css/index.js");require.alias("component-each/index.js","component-css/deps/each/index.js");require.alias("component-type/index.js","component-each/deps/type/index.js");require.alias("visionmedia-debug/index.js","component-css/deps/debug/index.js");require.alias("visionmedia-debug/debug.js","component-css/deps/debug/debug.js");require.alias("ianstormtaylor-to-camel-case/index.js","component-css/deps/to-camel-case/index.js");require.alias("ianstormtaylor-to-space-case/index.js","ianstormtaylor-to-camel-case/deps/to-space-case/index.js");require.alias("ianstormtaylor-to-no-case/index.js","ianstormtaylor-to-space-case/deps/to-no-case/index.js");require.alias("component-within-document/index.js","component-css/deps/within-document/index.js");require.alias("component-css/index.js","component-css/index.js");require.alias("component-value/index.js","component-dom/deps/value/index.js");require.alias("component-value/index.js","component-dom/deps/value/index.js");require.alias("component-type/index.js","component-value/deps/type/index.js");require.alias("component-value/index.js","component-value/index.js");require.alias("component-query/index.js","component-dom/deps/query/index.js");require.alias("component-matches-selector/index.js","component-dom/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("yields-traverse/index.js","component-dom/deps/traverse/index.js");require.alias("yields-traverse/index.js","component-dom/deps/traverse/index.js");require.alias("component-matches-selector/index.js","yields-traverse/deps/matches-selector/index.js");require.alias("component-query/index.js","component-matches-selector/deps/query/index.js");require.alias("yields-traverse/index.js","yields-traverse/index.js");require.alias("component-trim/index.js","component-dom/deps/trim/index.js");require.alias("yields-isarray/index.js","component-dom/deps/isArray/index.js");require.alias("component-to-function/index.js","component-dom/deps/to-function/index.js");require.alias("component-props/index.js","component-to-function/deps/props/index.js");require.alias("matthewp-keys/index.js","component-dom/deps/keys/index.js");require.alias("matthewp-keys/index.js","component-dom/deps/keys/index.js");require.alias("matthewp-keys/index.js","matthewp-keys/index.js");require.alias("matthewp-text/index.js","component-dom/deps/text/index.js");require.alias("nami-doc-contains/index.js","userjoy/deps/contains/index.js");require.alias("nami-doc-contains/index.js","contains/index.js");require.alias("bestiejs-platform.js/platform.js","userjoy/deps/platform.js/platform.js");require.alias("bestiejs-platform.js/platform.js","userjoy/deps/platform.js/index.js");require.alias("bestiejs-platform.js/platform.js","platform.js/index.js");require.alias("bestiejs-platform.js/platform.js","bestiejs-platform.js/index.js");require.alias("userjoy/lib/index.js","userjoy/index.js");if(typeof exports=="object"){module.exports=require("userjoy")}else if(typeof define=="function"&&define.amd){define([],function(){return require("userjoy")})}else{this["userjoy"]=require("userjoy")}})();